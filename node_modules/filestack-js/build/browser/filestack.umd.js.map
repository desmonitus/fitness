{"version":3,"sources":["webpack://filestack/webpack/universalModuleDefinition","webpack://filestack/webpack/bootstrap","webpack://filestack/./node_modules/tslib/tslib.es6.js","webpack://filestack/./build/module/lib/utils/index.js","webpack://filestack/./node_modules/axios/lib/utils.js","webpack://filestack/./node_modules/debug/src/browser.js","webpack://filestack/./node_modules/eventemitter3/index.js","webpack://filestack/./node_modules/jsonschema/lib/helpers.js","webpack://filestack/./node_modules/axios/index.js","webpack://filestack/./node_modules/jsonschema/lib/index.js","webpack://filestack/./node_modules/node-libs-browser/node_modules/url/url.js","webpack://filestack/./node_modules/jsonschema/lib/scan.js","webpack://filestack/./node_modules/process/browser.js","webpack://filestack/./node_modules/axios/lib/defaults.js","webpack://filestack/(webpack)/buildin/amd-options.js","webpack://filestack/./node_modules/axios/lib/helpers/bind.js","webpack://filestack/./node_modules/axios/lib/adapters/xhr.js","webpack://filestack/./node_modules/axios/lib/core/createError.js","webpack://filestack/./node_modules/axios/lib/cancel/isCancel.js","webpack://filestack/./node_modules/axios/lib/cancel/Cancel.js","webpack://filestack/./node_modules/spark-md5/spark-md5.js","webpack://filestack/./node_modules/file-type/index.js","webpack://filestack/./node_modules/isutf8/index.js","webpack://filestack/./node_modules/p-queue/index.js","webpack://filestack/./node_modules/jsonschema/lib/validator.js","webpack://filestack/./node_modules/punycode/punycode.js","webpack://filestack/(webpack)/buildin/module.js","webpack://filestack/(webpack)/buildin/global.js","webpack://filestack/./node_modules/node-libs-browser/node_modules/url/util.js","webpack://filestack/./node_modules/querystring-es3/index.js","webpack://filestack/./node_modules/querystring-es3/decode.js","webpack://filestack/./node_modules/querystring-es3/encode.js","webpack://filestack/./node_modules/jsonschema/lib/attribute.js","webpack://filestack/./build/module/lib/utils sync","webpack://filestack/./node_modules/debug/src/common.js","webpack://filestack/./node_modules/ms/index.js","webpack://filestack/./node_modules/axios/lib/axios.js","webpack://filestack/./node_modules/is-buffer/index.js","webpack://filestack/./node_modules/axios/lib/core/Axios.js","webpack://filestack/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://filestack/./node_modules/axios/lib/core/settle.js","webpack://filestack/./node_modules/axios/lib/core/enhanceError.js","webpack://filestack/./node_modules/axios/lib/helpers/buildURL.js","webpack://filestack/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://filestack/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://filestack/./node_modules/axios/lib/helpers/btoa.js","webpack://filestack/./node_modules/axios/lib/helpers/cookies.js","webpack://filestack/./node_modules/axios/lib/core/InterceptorManager.js","webpack://filestack/./node_modules/axios/lib/core/dispatchRequest.js","webpack://filestack/./node_modules/axios/lib/core/transformData.js","webpack://filestack/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://filestack/./node_modules/axios/lib/helpers/combineURLs.js","webpack://filestack/./node_modules/axios/lib/cancel/CancelToken.js","webpack://filestack/./node_modules/axios/lib/helpers/spread.js","webpack://filestack/./build/module/filestack_error.js","webpack://filestack/./build/module/schema/transforms.schema.js","webpack://filestack/./build/module/schema/definitions.schema.js","webpack://filestack/./build/module/schema/validator.js","webpack://filestack/./build/module/schema/store.schema.js","webpack://filestack/./build/module/schema/security.schema.js","webpack://filestack/./build/module/schema/preview.schema.js","webpack://filestack/./build/module/schema/upload.schema.js","webpack://filestack/./build/module/schema/picker.schema.js","webpack://filestack/./build/module/schema/metadata.schema.js","webpack://filestack/./build/module/schema/retrieve.schema.js","webpack://filestack/./build/module/lib/api/security.js","webpack://filestack/./build/module/config.js","webpack://filestack/./build/module/lib/api/request.js","webpack://filestack/./build/module/lib/api/file.js","webpack://filestack/./build/module/lib/filelink.js","webpack://filestack/./build/module/lib/api/transform.js","webpack://filestack/./build/module/lib/api/upload/file.js","webpack://filestack/./build/module/lib/api/upload/file_tools.js","webpack://filestack/./build/module/lib/api/upload/uploaders/abstract.js","webpack://filestack/./build/module/lib/api/upload/uploaders/s3.js","webpack://filestack/./build/module/lib/api/upload/upload.js","webpack://filestack/./build/module/lib/api/preview.js","webpack://filestack/./build/module/lib/api/cloud.js","webpack://filestack/../lib/index.js","webpack://filestack/./build/module/lib/picker.js","webpack://filestack/./build/module/lib/client.js","webpack://filestack/./build/module/lib/api/store.js","webpack://filestack/./build/module/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","iterator","v","op","TypeError","pop","push","process","__webpack_exports__","resolveHost","removeEmpty","isNode","isMobile","uniqueTime","uniqueId","md5","getMimetype","b64","requireNode","sanitizeName","filterObject","last","tslib__WEBPACK_IMPORTED_MODULE_0__","spark_md5__WEBPACK_IMPORTED_MODULE_1__","file_type__WEBPACK_IMPORTED_MODULE_2__","file_type__WEBPACK_IMPORTED_MODULE_2___default","isutf8__WEBPACK_IMPORTED_MODULE_3__","mobileRegexp","htmlCommentsRegexp","svgRegexp","urls","cname","hosts","keys","forEach","replace","obj","newObj","tslib_1","k","versions","node","navigator","userAgent","test","time","Date","now","len","join","Math","random","toString","data","createHash","update","digest","btoa","SparkMD5","hash","file","input","type","fileType","mime","String","fromCharCode","isutf8","console","warn","Buffer","from","require","options","ext","replacement","exclude","fileParts","split","map","char","indexOf","toFilter","requiredFields","filter","reduce","_a","isBuffer","isArray","val","isObject","_typeof","isFunction","fn","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","product","document","merge","assignValue","extend","a","trim","str","log","_console","formatArgs","args","useColors","namespace","humanize","diff","color","splice","index","lastC","match","save","namespaces","storage","setItem","removeItem","error","load","getItem","env","DEBUG","__nwjs","toLowerCase","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","colors","formatters","j","JSON","stringify","message","has","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","removeListener","undefined","on","removeAllListeners","off","prefixed","uri","ValidationError","instance","schema","propertyPath","argument","id","stack","ValidatorResult","ctx","errors","throwError","disableFormat","stringizer","addError","detail","err","Error","importErrors","res","validatorType","SchemaError","msg","captureStackTrace","SchemaContext","base","schemas","target","makeChild","propertyName","makeSuffix","FORMAT_REGEXPS","date-time","date","email","ip-address","ipv6","hostname","host-name","alpha","alphanumeric","utc-millisec","parseFloat","isNaN","regex","phone","regexp","pattern","ipv4","isFormat","format","validator","customFormats","deepMerge","src","array","dst","pathEncoder","encodeURIComponent","deepCompareStrict","every","aKeys","bKeys","objectGetPath","parts","shift","decodeURIComponent","encodePath","getDecimalPlaces","number","decimalPlaces","Number","decimalParts","Validator","SchemaScanResult","scan","validate","punycode","util","Url","protocol","slashes","auth","host","port","search","query","pathname","path","href","parse","urlParse","source","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","javascript:","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","http:","https:","ftp:","gopher:","file:","querystring","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","simplePath","exec","substr","proto","lowerProto","atSign","hostEnd","hec","lastIndexOf","parseHost","ipv6Hostname","hostparts","part","newpart","charCodeAt","validParts","notHost","bit","unshift","toASCII","h","ae","esc","escape","qm","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","hasTrailingSlash","up","isAbsolute","urilib","helpers","found","ref","scanSchema","baseuri","$ref","resolvedUri","ourBase","substring","scanArray","items","extends","additionalItems","scanObject","properties","additionalProperties","definitions","patternProperties","dependencies","disallow","allOf","anyOf","oneOf","not","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","headers","adapter","defaults","XMLHttpRequest","transformRequest","transformResponse","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","Accept","method","__webpack_amd_options__","settle","buildURL","parseHeaders","isURLSameOrigin","createError","config","requestData","requestHeaders","request","loadEvent","xDomain","XDomainRequest","onprogress","ontimeout","username","password","Authorization","open","toUpperCase","params","paramsSerializer","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onerror","cookies","xsrfValue","withCredentials","read","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","code","__CANCEL__","Cancel","hex_chr","md5cycle","x","md5blk","md5blks","md5blk_array","md51","tail","tmp","lo","hi","state","rhex","hex","toUtf8","unescape","hexToBinaryString","bytes","reset","lsw","clamp","max","min","to","num","targetArray","sourceArray","byteLength","begin","end","Uint8Array","set","append","appendBinary","contents","_buff","_length","_hash","raw","ret","buff","_finish","getState","setState","destroy","hashBinary","content","arr","first","second","returnUInt8Array","subarray","utf8Str2ArrayBuffer","md51_array","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_AMD_DEFINE_FACTORY__","toBytes","_toConsumableArray","xpiZipFilename","oxmlContentTypes","oxmlRels","readUInt64LE","buf","offset","mul","check","header","mask","checkString","findNextZipHeaderIndex","startAt","findIndex","el","zipHeaderIndex","oxmlFound","sliced","idPos","docTypePos","findDocType","objectSize","start","default","stream","readableStream","eval","pass","PassThrough","chunk","minimumBytes","pipeline","PriorityQueue","_classCallCheck","_queue","element","priority","size","comp","count","it","lowerBound","PQueue","_this","_possibleConstructorReturn","_getPrototypeOf","carryoverConcurrencyCount","intervalCap","Infinity","interval","concurrency","autoStart","queueClass","isFinite","_carryoverConcurrencyCount","_isIntervalIgnored","_intervalCount","_intervalCap","_interval","_intervalId","_intervalEnd","_timeoutId","_queueClass","_pendingCount","_concurrency","_isPaused","_resolveEmpty","_resolveIdle","_tryToStartAnother","_onInterval","_initializeIntervalIfNeeded","_this2","delay","_onResumeInterval","clearInterval","_resolvePromises","canInitializeInterval","_intervalPaused","_doesIntervalAllowAnother","_doesConcurrentAllowAnother","dequeue","_this3","setInterval","_this4","enqueue","_next","fns","_this5","all","add","_this6","existingResolve","_this7","attribute","unresolvedRefs","types","attributes","validators","shouldResolve","addSchema","self","ourUri","addSubSchemaArray","addSubSchema","addSubSchemaObject","setSchemas","getSchema","urn","sch","validateSchema","switchSchema","schemaobj","schemaTraverser","superResolve","resolved","subctx","subschema","skipAttributes","ignoreProperties","validatorErr","allowUnknownAttributes","rewrite","parsed","fragment","testType","string","integer","boolean","any","freeExports","nodeType","freeModule","freeGlobal","global","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","overflow","not-basic","invalid-input","baseMinusTMin","floor","stringFromCharCode","RangeError","mapDomain","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","out","basic","oldi","w","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","ucs2","toUnicode","webpackPolyfill","deprecate","paths","children","Function","arg","prop","qs","sep","eq","maxKeys","kstr","vstr","idx","xs","stringifyPrimitive","objectKeys","ks","description","exclusiveMinimum","exclusiveMaximum","$schema","testSchemaNoThrow","callback","valid","testAdditionalProperty","preValidateProperty","some","list","inner","nestedErrors","minProperties","maxProperties","minimum","maximum","validateMultipleOfOrDivisbleBy","validationType","errorMessage","validationArgument","instanceDecimals","divisorDecimals","maxDecimals","multiplier","pow","round","testArrays","multipleOf","divisibleBy","required","minLength","hsp","maxLength","minItems","maxItems","uniqueItems","dep","childContext","notTypes","schemaId","webpackEmptyContext","req","selectColor","createDebug","abs","prevTime","debug","_len","_key","enabled","curr","ms","prev","coerce","formatter","init","instances","newDebug","toNamespace","disable","skips","enable","plural","msAbs","isPlural","long","fmtLong","fmtShort","Axios","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","promises","spread","readFloatLE","isSlowBuffer","_isBuffer","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","normalizedName","serializedParams","toISOString","ignoreDuplicateOf","line","originURL","msie","urlParsingNode","createElement","resolveURL","setAttribute","location","requestURL","chars","E","block","charCode","write","expires","domain","secure","cookie","toGMTString","remove","use","eject","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","reason","relativeURL","executor","resolvePromise","token","FilestackErrorType","FilestackError","_super","details","TransformSchema","flip","no_metadata","compress","metadata","flop","enhance","redeye","monochrome","negative","tags","sfw","imagesize","enum","resize","width","height","fit","align","crop","dim","rotate","deg","exif","background","detect_faces","maxsize","minsize","export","crop_faces","faces","pixelate_faces","amount","blur","blur_faces","rounded_corners","radius","vignette","blurmode","polaroid","torn_edges","shadow","opacity","vector","circle","border","sharpen","blackwhite","threshold","sepia","tone","pixelate","oil_paint","modulate","brightness","saturation","hue","ascii","foreground","colored","reverse","collage","files","margin","autorotate","urlscreenshot","agent","orientation","device","upscale","noise","page","density","quality","docinfo","strip","colorspace","pageformat","pageorientation","pjpg","cache","expiry","video_convert","preset","force","extname","aspect_mode","audio_sample_rate","two_pass","video_bitrate","fps","keyframe_interval","audio_bitrate","audio_channels","clip_length","clip_offset","watermark_url","watermark_top","watermark_right","watermark_bottom","watermark_left","frame_count","filename","container","access","store","region","base64decode","workflows","watermark","position","partial_blur","objects","partial_pixelate","security","policy","signature","pdfinfo","colorinfo","pdfconvert","pages","fallback","handle","zip","minify_css","gzip","level","minify_js","use_babel_polyfill","keep_fn_name","keep_class_name","mangle","merge_vars","remove_console","remove_undefined","targets","DefinitionsSchema","workflowsDef","securityCallDef","regionsDef","locationsDef","colorDef","pageFormatDef","pageRangeDef","facesDef","objectsDef","positionDef","HTMLContainer","getValidator","StoreParamsSchema","sanitizer","SecurityParamsSchema","maxSize","minSize","PreviewParamsSchema","css","UploadParamsSchema","partSize","progressInterval","retry","retryFactor","retryMaxTime","intelligent","intelligentChunkSize","onProgress","onRetry","PickerParamsSchema","allowManualRetry","accept","fromSources","cleanupImageExif","keepOrientation","keepICCandAPP","displayMode","customSourceContainer","customSourcePath","customSourceName","disableStorageKey","disableTransformer","disableThumbnails","exposeOriginalFile","globalDropZone","hideModalWhenUploading","imageDim","imageMax","imageMin","imageMinMaxBlock","lang","minFiles","maxFiles","modalSize","rootId","startUploadingWhenMaxFilesReached","uploadInBackground","videoResolution","onCancel","onClose","onOpen","onFileSelected","onFileUploadStarted","onFileUploadFinished","onFileUploadFailed","onFileUploadProgress","onUploadStarted","onUploadDone","storeTo","viewType","transformations","aspectRatio","customText",".*","dropPane","cropFiles","disableClick","overlay","showIcon","showProgress","onDragEnter","onDragLeave","onDragOver","onDrop","onSuccess","onError","onClick","errorsTimeout","customAuthText","top","bottom","uploadConfig","MetadataParamsSchema","mimetype","uploaded","writeable","cloud","sourceUrl","sha1","sha224","sha256","sha384","sha512","RetrieveParamsSchema","head","dl","extension","getSecurity","policyOptions","appSecret","validateRes","VALIDATION","createHmac","validateWebhookSignature","secret","rawBody","toCompare","timestamp","fileApiUrl","uploadApiUrl","cloudApiUrl","cdnUrl","pickerUrl","Debug","requestWithSource","retryConfig","axiosInstance","filestack-source","filestack-trace-id","filestack-trace-span","useRetryPolicy","useDebugInterceptor","postWithRetry","fields","post","shouldRetry","resp","currentState","retryCount","requestConfig","retryDelay","ERequestMethod","EResponseType","session","skipStorage","apikey","skip_storage","delete","AlignOptions","AlignFacesOptions","FitOptions","BlurMode","ShapeType","NoiseType","StyleType","ColorspaceType","CropfacesType","VideoTypes","URLScreenshotAgent","URLScreenshotMode","URLScreenshotOrientation","Locations","VideoAccess","VideoAccessMode","handleRegexp","Filelink","transforms","useValidator","arrayToObject","nameKey","dataKey","item","isExternal","isSourceExternal","setBase64","setUseValidator","setCname","setCustomDomain","customDomain","getValidationSchema","getTransformations","validateTasks","returnUrl","getCdnHost","transformsString","generateTransformString","arrayToString","escapeValue","addTask","detectFaces","cropFaces","pixelateFaces","blurFaces","roundedCorners","tornEdges","oilPaint","partialPixelate","partialBlur","videoConvert","URLScreenshot","PDFInfo","PDFConvert","minifyCss","minifyJs","toTest","optionToString","values","optionsString","EAlignOptions","EAlignFacesOptions","EFitOptions","EBlurMode","EShapeType","ENoiseType","EStyleType","EColorspaceType","ECropfacesType","EVideoTypes","EUrlscreenshotAgent","EUrlscreenshotMode","EUrlscreenshotOrientation","EVideoLocations","EVideoAccess","EVideoAccessMode","transform","toSnakeCase","original","snakeCased","newKey","transform_typeof","filelink","File","_file","_sanitizeOptions","configurable","file_typeof","_md5","getPartsCount","ceil","getPartMetadata","partNum","startByte","endByte","partNumber","getPartByMetadata","meta","getChunkByMetadata","chunkSize","release","toJSON","base64Regexp","isFileBase","atob","isFileNamed","getFileBrowser","sanitizeOptions","isFileBrowser","b64Data","sliceSize","contentType","matches","byteCharacters","byteArrays","byteNumbers","Blob","b64toBlob","isFileBlob","FileReader","reader","onloadend","readAsArrayBuffer","readFile","FsFile","getFileNode","existsSync","isFilePath","path_1","basename","isFileBuffer","getFile","DEFAULT_PART_SIZE","INTELLIGENT_CHUNK_SIZE","INTELLIGENT_MOBILE_CHUNK_SIZE","UploaderAbstract","storeOptions","uploadMode","isModeLocked","setSecurity","setApikey","setRetryConfig","cfg","setUrl","setUploadMode","lock","setPartSize","getPartSize","setIntelligentChunkSize","getIntelligentChunkSize","getUrl","S3Uploader","payloads","partsQueue","pause","resume","isPaused","clear","execute","tasks","e_1","startRequest","prepareParts","startPartsQueue","completeRequest","getPayloadById","addFile","getUploadUrl","location_url","getDefaultFields","getStoreOptions","fiiFallback","payload","upload_id","getDefaultHeaders","location_region","partsCount","updatePayload","upload_type","setPayloadStatus","REQUEST","catch","waitingLength","startPart","onIdle","uploadRegular","uploadIntelligent","getS3PartMetadata","partMetadata","_b","put","pr","onProgressUpdate","loaded","etag","setPartETag","uploadNextChunk","commitPart","newOffset","setPartData","nextChunkSize","partsHandle","partLen","part_number","emitProgress","totalSize","totalBytes","filesProgress","totalParts","progress","totalPercent","normalizeProgress","current","Upload","lastProgress","storeValidateRes","overwriteFileName","sanitizerOptions","uploader","handleProgress","setSession","setToken","customName","startProgressInterval","stopProgressInterval","multiupload","_i","_c","progressIntervalHandler","preview","opts","hasSecurity","baseUrl","previewTask","iframe","domElement","getElementById","appendChild","CloudClient","sessionCache","_token","prefetch","clouds","flow","customSource","customsource","requestOptions","logout","tokInit","tokStart","sessionId","session_id","tokStop","archiveId","archive_id","RotateDirection","PickerDisplayMode","filestackInternals","loader_esm_typeof","loader","loadModule","moduleDefinition","checkIfDomReady","script","knownModuleIds","PickerLoader","client","_initialized","close","Client","source_url","picker","removeMetadata","storeURL","retrieve","module_init","transform_transform","filelink_Filelink","filestack_error_FilestackError","security_getSecurity","security_validateWebhookSignature"],"mappings":"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","file":"filestack.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"filestack\"] = factory();\n\telse\n\t\troot[\"filestack\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 52);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as SparkMD5 from 'spark-md5';\nimport fileType from 'file-type';\nimport * as isutf8 from 'isutf8';\nvar mobileRegexp = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;\nvar htmlCommentsRegexp = /<!--([\\s\\S]*?)-->/g;\nvar svgRegexp = /^\\s*(?:<\\?xml[^>]*>\\s*)?(?:<!doctype svg[^>]*\\s*(?:\\[?(?:\\s*<![^>]*>\\s*)*\\]?)*[^>]*>\\s*)?<svg[^>]*>[^]*<\\/svg>\\s*$/i;\n/**\n * Resolve cdn url based on handle type\n *\n * @private\n * @param session session object\n * @param handle file handle (hash, src://alias, url)\n */\nexport var resolveCdnUrl = function (session, handle) {\n    var cdnURL = session.urls.cdnUrl;\n    if (handle && (handle.indexOf('src:') === 0 || handle.indexOf('http') === 0)) {\n        if (!session.apikey) {\n            throw new Error('Api key is required when storage alias is provided');\n        }\n        // apikey is required for alias or external sources call\n        return cdnURL + \"/\" + session.apikey;\n    }\n    return cdnURL;\n};\n/**\n * Resolve all urls with provided cnames\n *\n * @private\n * @param urls\n * @param cname\n */\nexport var resolveHost = function (urls, cname) {\n    if (!cname) {\n        return urls;\n    }\n    var hosts = /filestackapi.com|filestackcontent.com/i;\n    Object.keys(urls).forEach(function (key) {\n        urls[key] = urls[key].replace(hosts, cname);\n    });\n    return urls;\n};\n/**\n * Removes empty options from object\n *\n * @private\n * @param obj\n */\nexport var removeEmpty = function (obj) {\n    var newObj = tslib_1.__assign({}, obj);\n    Object.keys(newObj).forEach(function (k) { return !newObj[k] && typeof newObj[k] !== 'boolean' && delete newObj[k]; });\n    return newObj;\n};\n/**\n * Returns information about current env (browser|nodejs)\n */\nexport var isNode = function () { return typeof process !== 'undefined' && process.versions && process.versions.node; };\n/**\n * Returns if browser is a mobile device (if node env always return false)\n */\n/* istanbul ignore next */\nexport var isMobile = function () { return !isNode() && navigator && navigator.userAgent && mobileRegexp.test(navigator.userAgent); };\n/**\n * Returns unique time\n */\nvar last;\nexport var uniqueTime = function () {\n    var time = Date.now();\n    last = time === last ? time + 1 : time;\n    return last;\n};\n/**\n * Generates random string with provided length\n *\n * @param len\n */\nexport var uniqueId = function (len) {\n    if (len === void 0) { len = 10; }\n    return new Array(len).join().replace(/(.|$)/g, function () { return ((Math.random() * 36) | 0).toString(36)[Math.random() < 0.5 ? 'toString' : 'toUpperCase'](); });\n};\n/**\n * Calculates a MD5 checksum for passed buffer\n * @private\n * @param data  Data to be hashed\n * @returns     base64 encoded MD5 hash\n */\nexport var md5 = function (data) {\n    if (isNode()) {\n        return (requireNode('crypto')).createHash('md5').update(data).digest('base64');\n    }\n    /* istanbul ignore next */\n    return btoa(SparkMD5.ArrayBuffer.hash(data, true));\n};\n/**\n * Check if input is a svg\n *\n * @param input\n */\nvar isSvg = function (input) { return input && svgRegexp.test(String.fromCharCode.apply(null, input).replace(htmlCommentsRegexp, '')); };\n/**\n * Check if input is a svg\n *\n * @param {Uint8Array | Buffer} file\n * @returns {string} - mimetype\n */\nexport var getMimetype = function (file) {\n    var type = fileType(file);\n    if (type) {\n        return type.mime;\n    }\n    try {\n        if (isSvg(file)) {\n            return 'image/svg+xml';\n        }\n        if (isutf8(file)) {\n            return 'text/plain';\n        }\n    }\n    catch (e) {\n        console.warn('Additional mimetype checks (text/plain) are currently not supported for browsers');\n    }\n    return 'application/octet-stream';\n};\n/**\n * return based string\n * @param data\n */\nexport var b64 = function (data) {\n    if (isNode()) {\n        return Buffer.from(data).toString('base64');\n    }\n    return btoa(data);\n};\n/**\n * Hides require from buindling by weback to browser\n *\n * @param {string} name\n */\nexport var requireNode = function (name) {\n    if (!isNode()) {\n        return false;\n    }\n    return require && require(name);\n};\n/**\n * Sanitize file name\n *\n * @param name\n * @param {bool} options  - enable,disable sanitizer, default enabled\n * @param {string} options.replacement - replacement for sanitized chars defaults to \"-\"\n * @param {string[]} options.exclude - array with excluded chars default - ['\\', '{', '}','|', '%', '`', '\"', \"'\", '~', '[', ']', '#', '|', '^', '<', '>']\n */\nexport var sanitizeName = function (name, options) {\n    if (options === void 0) { options = true; }\n    if (typeof options === 'boolean' && !options) {\n        return name;\n    }\n    var ext;\n    var replacement = typeof options !== 'boolean' && options.replacement ? options.replacement : '-';\n    var exclude = typeof options !== 'boolean' && options.exclude ? options.exclude : ['\\\\', '{', '}', '|', '%', '`', '\"', \"'\", '~', '[', ']', '#', '|', '^', '<', '>'];\n    if (!name || name.length === 0) {\n        return 'undefined';\n    }\n    var fileParts = name.split('.');\n    if (fileParts.length > 1) {\n        ext = fileParts.pop();\n    }\n    return \"\" + fileParts.join('_').split('').map(function (char) { return exclude.indexOf(char) > -1 ? replacement : char; }).join('') + (ext ? '.' + ext : '');\n};\n/**\n * Filter object to given fields\n *\n * @param toFilter\n * @param requiredFields\n */\nexport var filterObject = function (toFilter, requiredFields) {\n    if (!requiredFields || requiredFields.length === 0) {\n        return toFilter;\n    }\n    return Object.keys(toFilter).filter(function (f) { return requiredFields.indexOf(f) > -1; }).reduce(function (obj, key) {\n        var _a;\n        return (tslib_1.__assign({}, obj, (_a = {}, _a[key] = toFilter[key], _a)));\n    }, {});\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, propertyPath, name, argument) {\n  if (propertyPath) {\n    this.property = propertyPath;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    if (schema.id) {\n      this.schema = schema.id;\n    } else {\n      this.schema = schema;\n    }\n  }\n  if (instance) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.propertyPath);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.propertyPath, detail.name, detail.argument);\n  }\n\n  if (this.throwError) {\n    throw err;\n  }\n  this.errors.push(err);\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    Array.prototype.push.apply(this.errors, res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  { constructor: {value: SchemaError, enumerable: false}\n  , name: {value: 'SchemaError', enumerable: false}\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, propertyPath, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  this.propertyPath = propertyPath;\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var propertyPath = (propertyName===undefined) ? this.propertyPath : this.propertyPath+makeSuffix(propertyName);\n  var base = uri.resolve(this.base, schema.id||'');\n  var ctx = new SchemaContext(schema, this.options, propertyPath, base, Object.create(this.schemas));\n  if(schema.id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n}\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n  'uri': /^[a-zA-Z][a-zA-Z0-9+-.]*:[^\\s]*$/,\n\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n  'style': /\\s*(.+?):\\s*([^;]+);?/g,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a instanceof Array) {\n    if (!(b instanceof Array)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e)\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e)\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key])\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n};\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n\t// ~ must be encoded explicitly because hacks\n\t// the slash is encoded by encodeURIComponent\n\treturn a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\n","module.exports = require('./lib/axios');","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var ourBase = schema.id ? urilib.resolve(baseuri, schema.id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+schema+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', ((schema.items instanceof Array)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', ((schema.extends instanceof Array)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!(schemas instanceof Array)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  var schemaUri = base;\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","'use strict';\nconst toBytes = s => [...s].map(c => c.charCodeAt(0));\nconst xpiZipFilename = toBytes('META-INF/mozilla.rsa');\nconst oxmlContentTypes = toBytes('[Content_Types].xml');\nconst oxmlRels = toBytes('_rels/.rels');\n\nfunction readUInt64LE(buf, offset = 0) {\n\tlet n = buf[offset];\n\tlet mul = 1;\n\tlet i = 0;\n\twhile (++i < 8) {\n\t\tmul *= 0x100;\n\t\tn += buf[offset + i] * mul;\n\t}\n\n\treturn n;\n}\n\nconst fileType = input => {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buf = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buf && buf.length > 1)) {\n\t\treturn null;\n\t}\n\n\tconst check = (header, options) => {\n\t\toptions = Object.assign({\n\t\t\toffset: 0\n\t\t}, options);\n\n\t\tfor (let i = 0; i < header.length; i++) {\n\t\t\t// If a bitmask is set\n\t\t\tif (options.mask) {\n\t\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\t\tif (header[i] !== (options.mask[i] & buf[i + options.offset])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (header[i] !== buf[i + options.offset]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst checkString = (header, options) => check(toBytes(header), options);\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (check([0x57, 0x45, 0x42, 0x50], {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\t// Needs to be before `tif` check\n\tif (\n\t\t(check([0x49, 0x49, 0x2A, 0x0]) || check([0x4D, 0x4D, 0x0, 0x2A])) &&\n\t\tcheck([0x43, 0x52], {offset: 8})\n\t) {\n\t\treturn {\n\t\t\text: 'cr2',\n\t\t\tmime: 'image/x-canon-cr2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x49, 0x49, 0x2A, 0x0]) ||\n\t\tcheck([0x4D, 0x4D, 0x0, 0x2A])\n\t) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x38, 0x42, 0x50, 0x53])) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) {\n\t\tif (\n\t\t\tcheck([0x6D, 0x69, 0x6D, 0x65, 0x74, 0x79, 0x70, 0x65, 0x61, 0x70, 0x70, 0x6C, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6F, 0x6E, 0x2F, 0x65, 0x70, 0x75, 0x62, 0x2B, 0x7A, 0x69, 0x70], {offset: 30})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'epub',\n\t\t\t\tmime: 'application/epub+zip'\n\t\t\t};\n\t\t}\n\n\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\tif (check(xpiZipFilename, {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'xpi',\n\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.text', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odt',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.spreadsheet', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'ods',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('mimetypeapplication/vnd.oasis.opendocument.presentation', {offset: 30})) {\n\t\t\treturn {\n\t\t\t\text: 'odp',\n\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t};\n\t\t}\n\n\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t// We look for:\n\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t// - one entry indicating specific type of file.\n\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\tconst findNextZipHeaderIndex = (arr, startAt = 0) => arr.findIndex((el, i, arr) => i >= startAt && arr[i] === 0x50 && arr[i + 1] === 0x4B && arr[i + 2] === 0x3 && arr[i + 3] === 0x4);\n\n\t\tlet zipHeaderIndex = 0; // The first zip header was already found at index 0\n\t\tlet oxmlFound = false;\n\t\tlet type = null;\n\n\t\tdo {\n\t\t\tconst offset = zipHeaderIndex + 30;\n\n\t\t\tif (!oxmlFound) {\n\t\t\t\toxmlFound = (check(oxmlContentTypes, {offset}) || check(oxmlRels, {offset}));\n\t\t\t}\n\n\t\t\tif (!type) {\n\t\t\t\tif (checkString('word/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('ppt/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t};\n\t\t\t\t} else if (checkString('xl/', {offset})) {\n\t\t\t\t\ttype = {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (oxmlFound && type) {\n\t\t\t\treturn type;\n\t\t\t}\n\n\t\t\tzipHeaderIndex = findNextZipHeaderIndex(buf, offset);\n\t\t} while (zipHeaderIndex >= 0);\n\n\t\t// No more zip parts available in the buffer, but maybe we are almost certain about the type?\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buf[2] === 0x3 || buf[2] === 0x5 || buf[2] === 0x7) &&\n\t\t(buf[3] === 0x4 || buf[3] === 0x6 || buf[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (check([0x75, 0x73, 0x74, 0x61, 0x72], {offset: 257})) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buf[6] === 0x0 || buf[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x33, 0x67, 0x70, 0x35]) || // 3gp5\n\t\t(\n\t\t\tcheck([0x0, 0x0, 0x0]) && check([0x66, 0x74, 0x79, 0x70], {offset: 4}) &&\n\t\t\t\t(\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x31], {offset: 8}) || // MP41\n\t\t\t\t\tcheck([0x6D, 0x70, 0x34, 0x32], {offset: 8}) || // MP42\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x6D], {offset: 8}) || // ISOM\n\t\t\t\t\tcheck([0x69, 0x73, 0x6F, 0x32], {offset: 8}) || // ISO2\n\t\t\t\t\tcheck([0x6D, 0x6D, 0x70, 0x34], {offset: 8}) || // MMP4\n\t\t\t\t\tcheck([0x4D, 0x34, 0x56], {offset: 8}) || // M4V\n\t\t\t\t\tcheck([0x64, 0x61, 0x73, 0x68], {offset: 8}) // DASH\n\t\t\t\t)\n\t\t)) {\n\t\treturn {\n\t\t\text: 'mp4',\n\t\t\tmime: 'video/mp4'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x54, 0x68, 0x64])) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) {\n\t\tconst sliced = buf.subarray(4, 4 + 4096);\n\t\tconst idPos = sliced.findIndex((el, i, arr) => arr[i] === 0x42 && arr[i + 1] === 0x82);\n\n\t\tif (idPos !== -1) {\n\t\t\tconst docTypePos = idPos + 3;\n\t\t\tconst findDocType = type => [...type].every((c, i) => sliced[docTypePos + i] === c.charCodeAt(0));\n\n\t\t\tif (findDocType('matroska')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (findDocType('webm')) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x0, 0x0, 0x0, 0x14, 0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20]) ||\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // Type: `free`\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x71, 0x74, 0x20, 0x20], {offset: 4}) ||\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // Type: `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t// Search for header should be in first 1KB of file.\n\n\t\tlet offset = 30;\n\t\tdo {\n\t\t\tconst objectSize = readUInt64LE(buf, offset + 16);\n\t\t\tif (check([0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65], {offset})) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tif (check([0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wma',\n\t\t\t\t\t\tmime: 'audio/x-ms-wma'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (check([0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B], {offset: offset + 24})) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'wmv',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\toffset += objectSize;\n\t\t} while (offset + 24 <= buf.length);\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x74, 0x79, 0x70, 0x33, 0x67], {offset: 4})) {\n\t\treturn {\n\t\t\text: '3gp',\n\t\t\tmime: 'video/3gpp'\n\t\t};\n\t}\n\n\t// Check for MPEG header at different starting offsets\n\tfor (let start = 0; start < 2 && start < (buf.length - 16); start++) {\n\t\tif (\n\t\t\tcheck([0x49, 0x44, 0x33], {offset: start}) || // ID3 header\n\t\t\tcheck([0xFF, 0xE2], {offset: start, mask: [0xFF, 0xE2]}) // MPEG 1 or 2 Layer 3 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xE4], {offset: start, mask: [0xFF, 0xE4]}) // MPEG 1 or 2 Layer 2 header\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF8], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 2 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0xFF, 0xF0], {offset: start, mask: [0xFF, 0xFC]}) // MPEG 4 layer 0 using ADTS\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mp4',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0x66, 0x74, 0x79, 0x70, 0x4D, 0x34, 0x41], {offset: 4})\n\t) {\n\t\treturn { // MPEG-4 layer 3 (audio)\n\t\t\text: 'm4a',\n\t\t\tmime: 'audio/mp4' // RFC 4337\n\t\t};\n\t}\n\n\t// Needs to be before `ogg` check\n\tif (check([0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64], {offset: 28})) {\n\t\treturn {\n\t\t\text: 'opus',\n\t\t\tmime: 'audio/opus'\n\t\t};\n\t}\n\n\t// If 'OggS' in first  bytes, then OGG container\n\tif (check([0x4F, 0x67, 0x67, 0x53])) {\n\t\t// This is a OGG container\n\n\t\t// If ' theora' in header.\n\t\tif (check([0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (check([0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (check([0x7F, 0x46, 0x4C, 0x41, 0x43], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (check([0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (check([0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73], {offset: 28})) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (check([0x66, 0x4C, 0x61, 0x43])) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x41, 0x43, 0x20])) { // 'MAC '\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\tif (check([0x77, 0x76, 0x70, 0x6B])) { // 'wvpk'\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (check([0x23, 0x21, 0x41, 0x4D, 0x52, 0x0A])) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x50, 0x44, 0x46])) {\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x43 || buf[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\tif (check([0x7B, 0x5C, 0x72, 0x74, 0x66])) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x46]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x77, 0x4F, 0x46, 0x32]) &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheck([0x4F, 0x54, 0x54, 0x4F], {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (check([0x53, 0x51, 0x4C, 0x69])) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (check([0x43, 0x72, 0x32, 0x34])) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4D, 0x53, 0x43, 0x46]) ||\n\t\tcheck([0x49, 0x53, 0x63, 0x28])\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\t// Needs to be before `ar` check\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E, 0x0A, 0x64, 0x65, 0x62, 0x69, 0x61, 0x6E, 0x2D, 0x62, 0x69, 0x6E, 0x61, 0x72, 0x79])) {\n\t\treturn {\n\t\t\text: 'deb',\n\t\t\tmime: 'application/x-deb'\n\t\t};\n\t}\n\n\tif (check([0x21, 0x3C, 0x61, 0x72, 0x63, 0x68, 0x3E])) {\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x5A, 0x49, 0x50])) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\treturn {\n\t\t\text: 'msi',\n\t\t\tmime: 'application/x-msi'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4C, 0x45, 0x4E, 0x44, 0x45, 0x52])) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tif (check([0x6A, 0x70, 0x32, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jp2',\n\t\t\t\tmime: 'image/jp2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x78, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpx',\n\t\t\t\tmime: 'image/jpx'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6A, 0x70, 0x6D, 0x20], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'jpm',\n\t\t\t\tmime: 'image/jpm'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x6A, 0x70, 0x32], {offset: 20})) {\n\t\t\treturn {\n\t\t\t\text: 'mj2',\n\t\t\t\tmime: 'image/mj2'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0x46, 0x4F, 0x52, 0x4D])) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\tif (check([0x66, 0x74, 0x79, 0x70], {offset: 4})) {\n\t\tif (check([0x6D, 0x69, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x6D, 0x73, 0x66, 0x31], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heif-sequence'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x69, 0x63], {offset: 8}) || check([0x68, 0x65, 0x69, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x68, 0x65, 0x76, 0x63], {offset: 8}) || check([0x68, 0x65, 0x76, 0x78], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'heic',\n\t\t\t\tmime: 'image/heic-sequence'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\t// Musepack, SV7\n\tif (check([0x4D, 0x50, 0x2B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (check([0x4D, 0x50, 0x43, 0x4B])) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x45, 0x47, 0x49, 0x4E, 0x3A])) {\n\t\treturn {\n\t\t\text: 'ics',\n\t\t\tmime: 'text/calendar'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\treturn null;\n};\n\nmodule.exports = fileType;\n// TODO: Remove this for the next major release\nmodule.exports.default = fileType;\n\nObject.defineProperty(fileType, 'minimumBytes', {value: 4100});\n\nmodule.exports.stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.once('readable', () => {\n\t\tconst pass = new stream.PassThrough();\n\t\tconst chunk = readableStream.read(module.exports.minimumBytes) || readableStream.read();\n\t\ttry {\n\t\t\tpass.fileType = fileType(chunk);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\treadableStream.unshift(chunk);\n\n\t\tif (stream.pipeline) {\n\t\t\tresolve(stream.pipeline(readableStream, pass, () => {}));\n\t\t} else {\n\t\t\tresolve(readableStream.pipe(pass));\n\t\t}\n\t});\n});\n","'use strict';\n/*\n    https://tools.ietf.org/html/rfc3629\n\n    UTF8-char = UTF8-1 / UTF8-2 / UTF8-3 / UTF8-4\n\n    UTF8-1    = %x00-7F\n\n    UTF8-2    = %xC2-DF UTF8-tail\n\n    UTF8-3    = %xE0 %xA0-BF UTF8-tail\n                %xE1-EC 2( UTF8-tail )\n                %xED %x80-9F UTF8-tail\n                %xEE-EF 2( UTF8-tail )\n\n    UTF8-4    = %xF0 %x90-BF 2( UTF8-tail )\n                %xF1-F3 3( UTF8-tail )\n                %xF4 %x80-8F 2( UTF8-tail )\n\n    UTF8-tail = %x80-BF\n*/\n\n/**\n * Check if a Buffer is utf-8\n *\n * @param {Buffer} buf\n * @returns {boolean}\n */\nfunction isUtf8(buf) {\n    if (!buf) {\n        return false;\n    }\n\n    var i = 0, len = buf.length;\n\n    while(i < len) {\n        // UTF8-1 = %x00-7F\n        if (buf[i] <= 0x7F) {\n            i++;\n\n            continue;\n        }\n\n        // UTF8-2 = %xC2-DF UTF8-tail\n        if (buf[i] >= 0xC2 && buf[i] <= 0xDF) {\n            // if(buf[i + 1] >= 0x80 && buf[i + 1] <= 0xBF) {\n            if (buf[i + 1] >> 6 === 2) {\n                i += 2;\n\n                continue;\n            } else {\n                return false;\n            }\n        }\n\n        // UTF8-3 = %xE0 %xA0-BF UTF8-tail\n        // UTF8-3 = %xED %x80-9F UTF8-tail\n        if (\n                (\n                    (buf[i] === 0xE0 && buf[i + 1] >= 0xA0 && buf[i + 1] <= 0xBF) ||\n                    (buf[i] === 0xED && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x9F)\n                ) && buf[i + 2] >> 6 === 2\n            ) {\n            i += 3;\n\n            continue;\n        }\n\n        // UTF8-3 = %xE1-EC 2( UTF8-tail )\n        // UTF8-3 = %xEE-EF 2( UTF8-tail )\n        if (\n                (\n                    (buf[i] >= 0xE1 && buf[i] <= 0xEC) ||\n                    (buf[i] >= 0xEE && buf[i] <= 0xEF)\n                ) &&\n                buf[i + 1] >> 6 === 2 &&\n                buf[i + 2] >> 6 === 2\n        ) {\n            i += 3;\n\n            continue;\n        }\n\n        // UTF8-4 = %xF0 %x90-BF 2( UTF8-tail )\n        //          %xF1-F3 3( UTF8-tail )\n        //          %xF4 %x80-8F 2( UTF8-tail )\n        if (\n                (\n                    (buf[i] === 0xF0 && buf[i + 1] >= 0x90 && buf[i + 1] <= 0xBF) ||\n                    (buf[i] >= 0xF1 && buf[i] <= 0xF3 && buf[i + 1] >> 6 === 2) ||\n                    (buf[i] === 0xF4  && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x8F)\n                ) &&\n            buf[i + 2] >> 6 === 2 &&\n            buf[i + 3] >> 6 === 2\n        ) {\n            i += 4;\n\n            continue;\n        }\n\n        return false;\n    }\n\n    return true;\n}\n\nmodule.exports = isUtf8;\n","'use strict';\n\nconst EventEmitter = require('eventemitter3');\n\n// Port of lower_bound from http://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nfunction lowerBound(array, value, comp) {\n\tlet first = 0;\n\tlet count = array.length;\n\n\twhile (count > 0) {\n\t\tconst step = (count / 2) | 0;\n\t\tlet it = first + step;\n\n\t\tif (comp(array[it], value) <= 0) {\n\t\t\tfirst = ++it;\n\t\t\tcount -= step + 1;\n\t\t} else {\n\t\t\tcount = step;\n\t\t}\n\t}\n\n\treturn first;\n}\n\nclass PriorityQueue {\n\tconstructor() {\n\t\tthis._queue = [];\n\t}\n\n\tenqueue(run, options) {\n\t\toptions = Object.assign({\n\t\t\tpriority: 0\n\t\t}, options);\n\n\t\tconst element = {priority: options.priority, run};\n\n\t\tif (this.size && this._queue[this.size - 1].priority >= options.priority) {\n\t\t\tthis._queue.push(element);\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = lowerBound(this._queue, element, (a, b) => b.priority - a.priority);\n\t\tthis._queue.splice(index, 0, element);\n\t}\n\n\tdequeue() {\n\t\treturn this._queue.shift().run;\n\t}\n\n\tget size() {\n\t\treturn this._queue.length;\n\t}\n}\n\nclass PQueue extends EventEmitter {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\toptions = Object.assign({\n\t\t\tcarryoverConcurrencyCount: false,\n\t\t\tintervalCap: Infinity,\n\t\t\tinterval: 0,\n\t\t\tconcurrency: Infinity,\n\t\t\tautoStart: true,\n\t\t\tqueueClass: PriorityQueue\n\t\t}, options);\n\n\t\tif (!(typeof options.concurrency === 'number' && options.concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${options.concurrency}\\` (${typeof options.concurrency})`);\n\t\t}\n\n\t\tif (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap}\\` (${typeof options.intervalCap})`);\n\t\t}\n\n\t\tif (!(Number.isFinite(options.interval) && options.interval >= 0)) {\n\t\t\tthrow new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval}\\` (${typeof options.interval})`);\n\t\t}\n\n\t\tthis._carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n\t\tthis._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;\n\t\tthis._intervalCount = 0;\n\t\tthis._intervalCap = options.intervalCap;\n\t\tthis._interval = options.interval;\n\t\tthis._intervalId = null;\n\t\tthis._intervalEnd = 0;\n\t\tthis._timeoutId = null;\n\n\t\tthis.queue = new options.queueClass(); // eslint-disable-line new-cap\n\t\tthis._queueClass = options.queueClass;\n\t\tthis._pendingCount = 0;\n\t\tthis._concurrency = options.concurrency;\n\t\tthis._isPaused = options.autoStart === false;\n\t\tthis._resolveEmpty = () => {};\n\t\tthis._resolveIdle = () => {};\n\t}\n\n\tget _doesIntervalAllowAnother() {\n\t\treturn this._isIntervalIgnored || this._intervalCount < this._intervalCap;\n\t}\n\n\tget _doesConcurrentAllowAnother() {\n\t\treturn this._pendingCount < this._concurrency;\n\t}\n\n\t_next() {\n\t\tthis._pendingCount--;\n\t\tthis._tryToStartAnother();\n\t}\n\n\t_resolvePromises() {\n\t\tthis._resolveEmpty();\n\t\tthis._resolveEmpty = () => {};\n\n\t\tif (this._pendingCount === 0) {\n\t\t\tthis._resolveIdle();\n\t\t\tthis._resolveIdle = () => {};\n\t\t}\n\t}\n\n\t_onResumeInterval() {\n\t\tthis._onInterval();\n\t\tthis._initializeIntervalIfNeeded();\n\t\tthis._timeoutId = null;\n\t}\n\n\t_intervalPaused() {\n\t\tconst now = Date.now();\n\n\t\tif (this._intervalId === null) {\n\t\t\tconst delay = this._intervalEnd - now;\n\t\t\tif (delay < 0) {\n\t\t\t\t// Act as the interval was done\n\t\t\t\t// We don't need to resume it here,\n\t\t\t\t// because it'll be resumed on line 160\n\t\t\t\tthis._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n\t\t\t} else {\n\t\t\t\t// Act as the interval is pending\n\t\t\t\tif (this._timeoutId === null) {\n\t\t\t\t\tthis._timeoutId = setTimeout(() => this._onResumeInterval(), delay);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_tryToStartAnother() {\n\t\tif (this.queue.size === 0) {\n\t\t\t// We can clear the interval (\"pause\")\n\t\t\t// because we can redo it later (\"resume\")\n\t\t\tclearInterval(this._intervalId);\n\t\t\tthis._intervalId = null;\n\n\t\t\tthis._resolvePromises();\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this._isPaused) {\n\t\t\tconst canInitializeInterval = !this._intervalPaused();\n\t\t\tif (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {\n\t\t\t\tthis.emit('active');\n\t\t\t\tthis.queue.dequeue()();\n\t\t\t\tif (canInitializeInterval) {\n\t\t\t\t\tthis._initializeIntervalIfNeeded();\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_initializeIntervalIfNeeded() {\n\t\tif (this._isIntervalIgnored || this._intervalId !== null) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._intervalId = setInterval(() => this._onInterval(), this._interval);\n\t\tthis._intervalEnd = Date.now() + this._interval;\n\t}\n\n\t_onInterval() {\n\t\tif (this._intervalCount === 0 && this._pendingCount === 0) {\n\t\t\tclearInterval(this._intervalId);\n\t\t\tthis._intervalId = null;\n\t\t}\n\n\t\tthis._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n\t\twhile (this._tryToStartAnother()) {} // eslint-disable-line no-empty\n\t}\n\n\tadd(fn, options) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst run = () => {\n\t\t\t\tthis._pendingCount++;\n\t\t\t\tthis._intervalCount++;\n\n\t\t\t\ttry {\n\t\t\t\t\tPromise.resolve(fn()).then(\n\t\t\t\t\t\tval => {\n\t\t\t\t\t\t\tresolve(val);\n\t\t\t\t\t\t\tthis._next();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\tthis._next();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t\tthis._next();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.queue.enqueue(run, options);\n\t\t\tthis._tryToStartAnother();\n\t\t});\n\t}\n\n\taddAll(fns, options) {\n\t\treturn Promise.all(fns.map(fn => this.add(fn, options)));\n\t}\n\n\tstart() {\n\t\tif (!this._isPaused) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isPaused = false;\n\t\twhile (this._tryToStartAnother()) {} // eslint-disable-line no-empty\n\t}\n\n\tpause() {\n\t\tthis._isPaused = true;\n\t}\n\n\tclear() {\n\t\tthis.queue = new this._queueClass();\n\t}\n\n\tonEmpty() {\n\t\t// Instantly resolve if the queue is empty\n\t\tif (this.queue.size === 0) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise(resolve => {\n\t\t\tconst existingResolve = this._resolveEmpty;\n\t\t\tthis._resolveEmpty = () => {\n\t\t\t\texistingResolve();\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tonIdle() {\n\t\t// Instantly resolve if none pending and if nothing else is queued\n\t\tif (this._pendingCount === 0 && this.queue.size === 0) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise(resolve => {\n\t\t\tconst existingResolve = this._resolveIdle;\n\t\t\tthis._resolveIdle = () => {\n\t\t\t\texistingResolve();\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tget size() {\n\t\treturn this.queue.size;\n\t}\n\n\tget pending() {\n\t\treturn this._pendingCount;\n\t}\n\n\tget isPaused() {\n\t\treturn this._isPaused;\n\t}\n}\n\nmodule.exports = PQueue;\nmodule.exports.default = PQueue;\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    this.unresolvedRefs.push(uri);\n  }\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!(schemas instanceof Array)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if (!options) {\n    options = {};\n  }\n  var propertyName = options.propertyName || 'instance';\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var base = urilib.resolve(options.base||anonymousBase, schema.id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, propertyName, base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if (schema) {\n    var result = this.validateSchema(instance, schema, options, ctx);\n    if (!result) {\n      throw new Error('Result undefined');\n    }\n    return result;\n  }\n  throw new SchemaError('no schema specified', schema);\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n    // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (schema['extends'] instanceof Array) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema;\n  if (switchSchema = shouldResolve(schema)) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.propertyPath, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n}\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref;\n  if(ref = shouldResolve(schema)) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n}\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance) === 'object' && !(instance instanceof Array) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'exclusiveMinimum': true,\n  'exclusiveMaximum': true,\n  'additionalItems': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      return v.id && ('<' + v.id + '>') || (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  options.throwError = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n\n  if (! res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n      ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      return (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var msg = (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n      ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    return (v.id && ('<' + v.id + '>')) || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, properties[property], options, ctx);\n    }\n\n    var prop = Object.hasOwnProperty.call(instance, property) ? instance[property] : undefined;\n    var res = this.validateSchema(prop, properties[property], options, ctx.makeChild(properties[property], property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existance tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"additionalProperty \" + JSON.stringify(property) + \" exists in instance when not allowed\",\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var expr = new RegExp(pattern);\n      if (!expr.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, patternProperties[pattern], options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], patternProperties[pattern], options, ctx.makeChild(patternProperties[pattern], property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    })\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (!schema.items) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    var items = Array.isArray(schema.items) ? (schema.items[i] || schema.additionalItems) : schema.items;\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = true;\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    valid = instance > schema.minimum;\n  } else {\n    valid = instance >= schema.minimum;\n  }\n  if (!valid) {\n    result.addError({\n      name: 'minimum',\n      argument: schema.minimum,\n      message: \"must have a minimum value of \" + schema.minimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid;\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    valid = instance < schema.maximum;\n  } else {\n    valid = instance <= schema.maximum;\n  }\n  if (!valid) {\n    result.addError({\n      name: 'maximum',\n      argument: schema.maximum,\n      message: \"must have a maximum value of \" + schema.maximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument)\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatability with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\"\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(instance[n]===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.match(schema.pattern)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates that every item in an instance array is unique, when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  function testArrays (v, i, a) {\n    for (var j = i + 1; j < a.length; j++) if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n    return true;\n  }\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var schemaId = type && type.id && ('<' + type.id + '>') || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 31;","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nexport var FilestackErrorType;\n(function (FilestackErrorType) {\n    FilestackErrorType[\"VALIDATION\"] = \"validation\";\n    FilestackErrorType[\"REQUEST\"] = \"request\";\n    FilestackErrorType[\"OTHER\"] = \"other\";\n})(FilestackErrorType || (FilestackErrorType = {}));\nvar FilestackError = /** @class */ (function (_super) {\n    tslib_1.__extends(FilestackError, _super);\n    function FilestackError(message, details, type) {\n        var _this = \n        /* istanbul ignore next */\n        _super.call(this, message) || this;\n        Object.setPrototypeOf(_this, FilestackError.prototype);\n        _this.details = details;\n        _this.type = type;\n        return _this;\n    }\n    return FilestackError;\n}(Error));\nexport { FilestackError };\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TransformSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Transformations',\n    description: 'Filestack transformations parameters',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        flip: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        no_metadata: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        compress: {\n            additionalProperties: false,\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        metadata: {\n                            type: 'boolean',\n                            default: false,\n                        },\n                    },\n                }],\n        },\n        flop: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        enhance: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        redeye: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        monochrome: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        negative: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        tags: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        sfw: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        imagesize: {\n            type: 'boolean',\n            additionalProperties: false,\n        },\n        metadata: {\n            type: 'object',\n            params: {\n                type: 'array',\n                items: {\n                    type: 'string',\n                    'enum': [\n                        'filename',\n                        'mimetype',\n                        'size',\n                        'width',\n                        'height',\n                        'writeable',\n                        'path',\n                        'container',\n                        'cloud',\n                        'exif',\n                        'source_url',\n                        'md5',\n                        'sha256',\n                        'sha1',\n                        'sha512',\n                    ],\n                },\n                minItems: 0,\n                uniqueItems: true,\n                additionalItems: false,\n            },\n            additionalProperties: false,\n        },\n        resize: {\n            type: 'object',\n            properties: {\n                width: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 10000,\n                },\n                height: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 10000,\n                },\n                fit: {\n                    type: 'string',\n                    enum: ['clip', 'crop', 'scale', 'max'],\n                    default: 'clip',\n                },\n                align: {\n                    '$ref': 'positionDef',\n                    default: 'center',\n                },\n            },\n            // required: ['width', 'height'],\n            additionalProperties: false,\n            anyOf: [\n                { required: ['width'] },\n                { required: ['height'] },\n            ],\n        },\n        crop: {\n            type: 'object',\n            properties: {\n                dim: {\n                    type: 'array',\n                    additionalItems: false,\n                    minItems: 4,\n                    items: [{\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100000,\n                        }, {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100000,\n                        }, {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 100000,\n                        }, {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 100000,\n                        }],\n                },\n            },\n            required: ['dim'],\n        },\n        rotate: {\n            type: 'object',\n            properties: {\n                deg: {\n                    oneOf: [{\n                            type: 'string',\n                            enum: ['exif'],\n                        }, {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 359,\n                        }],\n                },\n                exif: {\n                    type: 'boolean',\n                },\n                background: {\n                    '$ref': 'colorDef',\n                    default: 'FFFFFFFF',\n                },\n            },\n            additionalProperties: false,\n        },\n        detect_faces: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        maxsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        minsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        export: {\n                            type: 'boolean',\n                        },\n                        color: {\n                            '$ref': 'colorDef',\n                            default: '000000FF',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        crop_faces: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        faces: {\n                            default: 1,\n                            '$ref': 'facesDef',\n                        },\n                        width: {\n                            type: 'number',\n                            minimum: 1,\n                            maximum: 10000,\n                        },\n                        height: {\n                            type: 'number',\n                            minimum: 1,\n                            maximum: 10000,\n                        },\n                        maxsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        minsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        buffer: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                        },\n                        mode: {\n                            type: 'string',\n                            enum: ['crop', 'thumb', 'fill'],\n                            default: 'thumb',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        pixelate_faces: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        faces: {\n                            '$ref': 'facesDef',\n                            default: 'all',\n                        },\n                        maxsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        minsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        buffer: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                        },\n                        amount: {\n                            type: 'integer',\n                            minimum: 2,\n                            maximum: 100,\n                            default: 10,\n                        },\n                        blur: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 4,\n                        },\n                        type: {\n                            type: 'string',\n                            enum: ['rect', 'oval'],\n                            default: 'rect',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        blur_faces: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        faces: {\n                            '$ref': 'facesDef',\n                            default: 'all',\n                        },\n                        maxsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        minsize: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 0.35,\n                        },\n                        buffer: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                        },\n                        amount: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 10,\n                            default: 10,\n                        },\n                        blur: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 4,\n                        },\n                        type: {\n                            type: 'string',\n                            enum: ['rect', 'oval'],\n                            default: 'rect',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        rounded_corners: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        radius: {\n                            oneOf: [{\n                                    type: 'integer',\n                                    minimum: 1,\n                                    maximum: 10000,\n                                }, {\n                                    type: 'string',\n                                    enum: ['max'],\n                                }],\n                        },\n                        blur: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 0.3,\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        vignette: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        amount: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100,\n                            default: 20,\n                        },\n                        blurmode: {\n                            type: 'string',\n                            enum: ['gaussian', 'linear'],\n                            default: 'gaussian',\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        polaroid: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        rotate: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 359,\n                        },\n                        color: {\n                            '$ref': 'colorDef',\n                            default: 'snow',\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        torn_edges: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        spread: {\n                            type: 'array',\n                            additionalItems: false,\n                            minItems: 2,\n                            items: [{\n                                    type: 'integer',\n                                    minimum: 1,\n                                    maximum: 10000,\n                                    default: 1,\n                                }, {\n                                    type: 'integer',\n                                    minimum: 1,\n                                    maximum: 10000,\n                                    default: 10,\n                                }],\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        shadow: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        blur: {\n                            type: 'number',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 100,\n                        },\n                        opacity: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100,\n                            default: 60,\n                        },\n                        vector: {\n                            type: 'array',\n                            additionalItems: false,\n                            minItems: 2,\n                            items: [{\n                                    type: 'integer',\n                                    minimum: -1000,\n                                    maximum: 1000,\n                                    default: 4,\n                                }, {\n                                    type: 'integer',\n                                    minimum: -1000,\n                                    maximum: 1000,\n                                    default: 4,\n                                }],\n                        },\n                        color: {\n                            '$ref': 'colorDef',\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        circle: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        border: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        color: {\n                            '$ref': 'colorDef',\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                        },\n                        width: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 1000,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        sharpen: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        amount: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 2,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        blur: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        amount: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 20,\n                            default: 2,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        blackwhite: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        threshold: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100,\n                            default: 50,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        sepia: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        tone: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100,\n                            default: 80,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        pixelate: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        amount: {\n                            type: 'integer',\n                            minimum: 2,\n                            maximum: 100,\n                            default: 2,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        oil_paint: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        amount: {\n                            type: 'integer',\n                            minimum: 2,\n                            maximum: 100,\n                            default: 2,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        modulate: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        brightness: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 100,\n                        },\n                        saturation: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                            default: 100,\n                        },\n                        hue: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 359,\n                            default: 0,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        ascii: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        foreground: {\n                            '$ref': 'colorDef',\n                            default: '000000FF',\n                        },\n                        background: {\n                            '$ref': 'colorDef',\n                            default: 'FFFFFFFF',\n                        },\n                        colored: {\n                            type: 'boolean',\n                            default: false,\n                        },\n                        size: {\n                            type: 'integer',\n                            minimum: 10,\n                            maximum: 100,\n                            default: 100,\n                        },\n                        reverse: {\n                            type: 'boolean',\n                            default: false,\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        collage: {\n            type: 'object',\n            properties: {\n                files: {\n                    type: 'array',\n                    minItems: 1,\n                    items: [{\n                            type: 'string',\n                        }],\n                },\n                margin: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 100,\n                    default: 10,\n                },\n                width: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 10000,\n                },\n                height: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 10000,\n                },\n                color: {\n                    '$ref': 'colorDef',\n                    default: 'FFFFFFFF',\n                },\n                fit: {\n                    type: 'string',\n                    enum: ['auto', 'crop'],\n                },\n                autorotate: {\n                    type: 'boolean',\n                    default: false,\n                },\n            },\n            required: ['width', 'height', 'files'],\n            additionalProperties: false,\n        },\n        urlscreenshot: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        agent: {\n                            type: 'string',\n                            enum: ['desktop', 'mobile'],\n                            default: 'desktop',\n                        },\n                        width: {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 1920,\n                            default: 1024,\n                        },\n                        height: {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 8000,\n                            default: 768,\n                        },\n                        mode: {\n                            type: 'string',\n                            enum: ['all', 'window'],\n                            default: 'all',\n                        },\n                        delay: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 20000,\n                            default: 1000,\n                        },\n                        orientation: {\n                            type: 'string',\n                            enum: ['portrait', 'landscape'],\n                            default: 'portrait',\n                        },\n                        device: {\n                            type: 'string',\n                            default: '',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        upscale: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        noise: {\n                            type: 'string',\n                            enum: ['none', 'low', 'medium', 'high'],\n                            default: 'none',\n                        },\n                        upscale: {\n                            type: 'boolean',\n                            default: true,\n                        },\n                        style: {\n                            type: 'string',\n                            enum: ['artwork', 'photo'],\n                            default: 'photo',\n                        },\n                    },\n                    additionalProperties: false,\n                }],\n        },\n        output: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                format: {\n                    type: 'string',\n                    enum: ['doc', 'docx', 'html', 'jpg', 'odp', 'ods', 'odt', 'pjpg', 'pdf', 'png', 'ppt', 'pptx', 'svg', 'txt', 'webp', 'xls', 'xlsx'],\n                },\n                page: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 99999,\n                },\n                density: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 500,\n                },\n                compress: {\n                    type: 'boolean',\n                },\n                quality: {\n                    oneOf: [{\n                            type: 'string',\n                            enum: ['input'],\n                        }, {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 100,\n                            default: 95,\n                        }],\n                },\n                secure: {\n                    type: 'boolean',\n                    default: false,\n                },\n                docinfo: {\n                    type: 'boolean',\n                    default: false,\n                },\n                strip: {\n                    type: 'boolean',\n                    default: false,\n                },\n                colorspace: {\n                    type: 'string',\n                    enum: ['rgb', 'cmyk', 'input'],\n                    default: 'rgb',\n                },\n                background: {\n                    '$ref': 'colorDef',\n                },\n                pageformat: {\n                    type: 'string',\n                    enum: ['a2', 'a3', 'a4', 'a5', 'b4', 'b5', 'letter', 'legal', 'tabloid'],\n                },\n                pageorientation: {\n                    type: 'string',\n                    enum: ['landscape', 'portrait'],\n                },\n            },\n        },\n        pjpg: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        quality: {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 100,\n                        },\n                        metadata: {\n                            type: 'boolean',\n                            default: false,\n                        },\n                    },\n                }],\n        },\n        quality: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                value: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 100,\n                },\n            },\n        },\n        cache: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        expiry: {\n                            type: 'integer',\n                        },\n                    },\n                }],\n        },\n        video_convert: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                width: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 4096,\n                },\n                height: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 4096,\n                },\n                preset: {\n                    type: 'string',\n                },\n                force: {\n                    type: 'boolean',\n                },\n                title: {\n                    type: 'string',\n                },\n                extname: {\n                    type: 'string',\n                },\n                upscale: {\n                    type: 'boolean',\n                },\n                aspect_mode: {\n                    type: 'string',\n                    enum: ['letterbox', 'pad', 'crop', 'preserve', 'constrain'],\n                    default: 'letterbox',\n                },\n                audio_sample_rate: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 99999,\n                },\n                two_pass: {\n                    type: 'boolean',\n                },\n                video_bitrate: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 5000,\n                },\n                fps: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 300,\n                },\n                keyframe_interval: {\n                    type: 'integer',\n                    minimum: 250,\n                    maximum: 250,\n                },\n                audio_bitrate: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 999,\n                },\n                audio_channels: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 12,\n                },\n                clip_length: {\n                    type: 'string',\n                    pattern: \"^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$\",\n                },\n                clip_offset: {\n                    type: 'string',\n                    pattern: \"^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$\",\n                },\n                watermark_url: {\n                    type: 'string',\n                },\n                watermark_top: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 9999,\n                },\n                watermark_right: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 9999,\n                },\n                watermark_bottom: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 9999,\n                },\n                watermark_left: {\n                    type: 'integer',\n                    minimum: 0,\n                    maximum: 9999,\n                },\n                frame_count: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 1,\n                    default: 1,\n                },\n                filename: {\n                    type: 'string',\n                },\n                location: {\n                    '$ref': 'locationsDef',\n                },\n                path: {\n                    type: 'string',\n                },\n                container: {\n                    type: 'string',\n                },\n                access: {\n                    type: 'string',\n                    enum: ['public', 'private'],\n                    default: 'public',\n                },\n            },\n        },\n        store: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        filename: {\n                            type: 'string',\n                        },\n                        location: {\n                            '$ref': 'locationsDef',\n                        },\n                        path: {\n                            type: 'string',\n                        },\n                        container: {\n                            type: 'string',\n                        },\n                        region: {\n                            '$ref': 'regionsDef',\n                        },\n                        access: {\n                            type: 'string',\n                            enum: ['public', 'private'],\n                            default: 'private',\n                        },\n                        base64decode: {\n                            type: 'boolean',\n                        },\n                        workflows: {\n                            '$ref': 'workflowsDef',\n                        },\n                    },\n                }],\n        },\n        watermark: {\n            type: 'object',\n            properties: {\n                file: {\n                    type: 'string',\n                },\n                size: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 500,\n                },\n                position: {\n                    '$ref': 'positionDef',\n                },\n            },\n            required: [\n                'file',\n            ],\n            additionalProperties: false,\n        },\n        partial_blur: {\n            type: 'object',\n            properties: {\n                objects: {\n                    '$ref': 'objectsDef',\n                },\n                amount: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 20,\n                },\n                blur: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 20,\n                },\n                type: {\n                    type: 'string',\n                    enum: ['rect', 'oval'],\n                },\n            },\n            required: ['objects'],\n        },\n        partial_pixelate: {\n            type: 'object',\n            properties: {\n                objects: {\n                    '$ref': 'objectsDef',\n                },\n                amount: {\n                    type: 'number',\n                    minimum: 2,\n                    maximum: 100,\n                },\n                blur: {\n                    type: 'number',\n                    minimum: 0,\n                    maximum: 20,\n                },\n                type: {\n                    type: 'string',\n                    enum: ['rect', 'oval'],\n                },\n            },\n            required: ['objects'],\n        },\n        security: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                policy: {\n                    type: 'string',\n                },\n                signature: {\n                    type: 'string',\n                },\n            },\n            required: ['policy', 'signature'],\n        },\n        pdfinfo: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    properties: {\n                        colorinfo: {\n                            type: 'boolean',\n                        },\n                    },\n                }],\n        },\n        pdfconvert: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                pageorientation: {\n                    type: 'string',\n                    enum: ['portrait', 'landscape'],\n                },\n                pageformat: {\n                    '$ref': 'pageFormatDef',\n                },\n                pages: {\n                    '$ref': 'pageRangeDef',\n                },\n            },\n            anyOf: [{\n                    required: ['pageorientation'],\n                }, {\n                    required: ['pageformat'],\n                }, {\n                    required: ['pages'],\n                }],\n        },\n        fallback: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                handle: {\n                    type: 'string',\n                },\n                cache: {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 31536000,\n                },\n            },\n            required: ['handle'],\n        },\n        zip: {\n            type: 'string',\n        },\n        minify_css: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                gzip: {\n                    type: 'boolean',\n                },\n                level: {\n                    type: 'number',\n                    enum: [1, 2],\n                },\n            },\n        },\n        minify_js: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                gzip: {\n                    type: 'boolean',\n                },\n                use_babel_polyfill: {\n                    type: 'boolean',\n                },\n                keep_fn_name: {\n                    type: 'boolean',\n                },\n                keep_class_name: {\n                    type: 'boolean',\n                },\n                mangle: {\n                    type: 'boolean',\n                },\n                merge_vars: {\n                    type: 'boolean',\n                },\n                remove_console: {\n                    type: 'boolean',\n                },\n                remove_undefined: {\n                    type: 'boolean',\n                },\n                targets: {\n                    type: 'string',\n                },\n            },\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var DefinitionsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack',\n    description: 'Filestack common definitions',\n    type: 'object',\n    additionalProperties: false,\n    definitions: {\n        workflowsDef: {\n            id: '/workflowsDef',\n            type: 'array',\n            additionalItems: false,\n            minItems: 1,\n            maxItems: 20,\n            items: [{\n                    oneOf: [{\n                            type: 'string',\n                        }, {\n                            type: 'object',\n                            additionalProperties: false,\n                            properties: {\n                                id: {\n                                    type: 'string',\n                                },\n                            },\n                        }],\n                }],\n        },\n        securityCallDef: {\n            id: '/securityCallDef',\n            oneOf: [{\n                    additionalProperties: false,\n                    type: 'string',\n                    enum: ['pick', 'read', 'stat', 'write', 'writeUrl', 'store', 'convert', 'remove', 'exif', 'runWorkflow'],\n                }, {\n                    type: 'array',\n                    additionalProperties: false,\n                    items: [{\n                            minItems: 1,\n                            maxItems: 10,\n                            type: 'string',\n                            additionalProperties: false,\n                            enum: ['pick', 'read', 'stat', 'write', 'writeUrl', 'store', 'convert', 'remove', 'exif', 'runWorkflow'],\n                        }],\n                }],\n        },\n        regionsDef: {\n            id: '/regionsDef',\n            type: 'string',\n            enum: ['us-east-1', 'us-east-2', 'us-west-1', 'us-west-2', 'eu-west-1', 'eu-west-2', 'eu-west-3', 'eu-central-1', 'ap-northeast-1', 'ap-northeast-2', 'ap-northeast-3', 'ap-southeast-1', 'ap-southeast-2', 'ap-south-1', 'sa-east-1'],\n        },\n        locationsDef: {\n            id: '/locationsDef',\n            type: 'string',\n            enum: ['s3', 'S3', 'rackspace', 'gcs', 'azure', 'dropbox'],\n        },\n        colorDef: {\n            id: 'colorDef',\n            oneOf: [{\n                    type: 'string',\n                    pattern: '^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$',\n                }, {\n                    type: 'string',\n                    enum: ['aliceblue', 'antiquewhite', 'aqua', 'aquamarine', 'azure', 'beige', 'bisque', 'black', 'blanchedalmond', 'blue', 'blueviolet', 'brown', 'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral', 'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue', 'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkgrey', 'darkkhaki', 'darkmagenta', 'darkolivegreen', 'darkorange', 'darkorchid', 'darkred', 'darksalmon', 'darkseagreen', 'darkslateblue', 'darkslategray', 'darkslategrey', 'darkturquoise', 'darkviolet', 'deeppink', 'deepskyblue', 'dimgray', 'dimgrey', 'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fractal', 'fuchsia', 'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray0', 'gray1', 'gray2', 'gray3', 'gray4', 'gray5', 'gray6', 'gray7', 'gray8', 'gray9', 'gray10', 'gray11', 'gray12', 'gray13', 'gray14', 'gray15', 'gray16', 'gray17', 'gray18', 'gray19', 'gray20', 'gray21', 'gray22', 'gray23', 'gray24', 'gray25', 'gray26', 'gray27', 'gray28', 'gray29', 'gray30', 'gray31', 'gray32', 'gray33', 'gray34', 'gray35', 'gray36', 'gray37', 'gray38', 'gray39', 'gray40', 'gray41', 'gray42', 'gray43', 'gray44', 'gray45', 'gray46', 'gray47', 'gray48', 'gray49', 'gray50', 'gray51', 'gray52', 'gray53', 'gray54', 'gray55', 'gray56', 'gray57', 'gray58', 'gray59', 'gray60', 'gray61', 'gray62', 'gray63', 'gray64', 'gray65', 'gray66', 'gray67', 'gray68', 'gray69', 'gray70', 'gray71', 'gray72', 'gray73', 'gray74', 'gray75', 'gray76', 'gray77', 'gray78', 'gray79', 'gray80', 'gray81', 'gray82', 'gray83', 'gray84', 'gray85', 'gray86', 'gray87', 'gray88', 'gray89', 'gray90', 'gray91', 'gray92', 'gray93', 'gray94', 'gray95', 'gray96', 'gray97', 'gray98', 'gray99', 'gray100', 'gray', 'green', 'greenyellow', 'grey', 'honeydew', 'hotpink', 'indianred', 'indigo', 'ivory', 'khaki', 'lavender', 'lavenderblush', 'lawngreen', 'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightgrey', 'lightpink', 'lightsalmon', 'lightseagreen', 'lightskyblue', 'lightslategray', 'lightslategrey', 'lightsteelblue', 'lightyellow', 'lime', 'limegreen', 'linen', 'magenta', 'maroon', 'mediumaquamarine', 'mediumblue', 'mediumorchid', 'mediumpurple', 'mediumseagreen', 'mediumslateblue', 'mediumspringgreen', 'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream', 'mistyrose', 'moccasin', 'navajowhite', 'navy', 'none', 'oldlace', 'olive', 'olivedrab', 'orange', 'orangered', 'orchid', 'palegoldenrod', 'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip', 'peachpuff', 'peru', 'pink', 'plum', 'powderblue', 'purple', 'red', 'rosybrown', 'royalblue', 'saddlebrown', 'salmon', 'sandybrown', 'seagreen', 'seashell', 'sienna', 'silver', 'skyblue', 'slateblue', 'slategray', 'slategrey', 'snow', 'springgreen', 'steelblue', 'tan', 'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'wheat', 'white', 'whitesmoke', 'yellow', 'yellowgreen',],\n                }],\n        },\n        pageFormatDef: {\n            id: '/pageFormatDef',\n            type: 'string',\n            enum: ['a2', 'a3', 'a4', 'a5', 'b4', 'b5', 'letter', 'legal', 'tabloid'],\n        },\n        pageRangeDef: {\n            id: '/pageRangeDef',\n            type: 'array',\n            uniqueItems: true,\n            items: [{\n                    oneOf: [{\n                            type: 'integer',\n                            minimum: 1,\n                        }, {\n                            type: 'string',\n                            pattern: '^(\\\\d+(?:-\\\\d+)?)$|^(-\\\\d+)$|^(\\\\d+-)$',\n                            errorMessage: 'Param should be provided in one of the following formats: \"1,2,3,5\", \"1-3\", \"1-\", \"-2\" ',\n                        }],\n                }],\n        },\n        facesDef: {\n            id: '/facesDef',\n            oneOf: [{\n                    type: 'string',\n                    enum: ['all'],\n                }, {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 1000,\n                }, {\n                    type: 'array',\n                    uniqueItems: true,\n                    items: [{\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 1000,\n                        }],\n                }],\n        },\n        objectsDef: {\n            id: '/objectsDef',\n            type: 'array',\n            minItems: 1,\n            maxItems: 50,\n            items: [{\n                    type: 'array',\n                    additionalItems: false,\n                    minItems: 4,\n                    items: [{\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                        }, {\n                            type: 'integer',\n                            minimum: 0,\n                            maximum: 10000,\n                        }, {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 10000,\n                        }, {\n                            type: 'integer',\n                            minimum: 1,\n                            maximum: 10000,\n                        }],\n                }],\n        },\n        positionDef: {\n            id: '/positionDef',\n            default: ['middle', 'center'],\n            oneOf: [\n                {\n                    type: 'string',\n                    enum: [\n                        'top',\n                        'middle',\n                        'bottom',\n                        'left',\n                        'center',\n                        'right',\n                    ],\n                },\n                {\n                    type: 'array',\n                    uniqueItems: true,\n                    additionalItems: false,\n                    minItems: 2,\n                    default: ['middle', 'center'],\n                    items: [\n                        {\n                            type: 'string',\n                            enum: [\n                                'top',\n                                'middle',\n                                'bottom',\n                            ],\n                        }, {\n                            type: 'string',\n                            enum: [\n                                'left',\n                                'center',\n                                'right',\n                            ],\n                        },\n                    ],\n                },\n            ],\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Validator } from 'jsonschema';\nimport { DefinitionsSchema } from './definitions.schema';\nvar v = new Validator();\nValidator.prototype.customFormats.callback = function (input) { return typeof input === 'function'; };\n// check if element have HTML in to string method ie HTMLDivElement\nValidator.prototype.customFormats.HTMLContainer = function (input) { return typeof input === 'string' || (input.toString && input.toString().indexOf('HTML') > -1); };\n/**\n * Returns validator instance\n */\nexport var getValidator = function (schema) {\n    return function (params) {\n        v.addSchema(DefinitionsSchema);\n        return v.validate(params, schema);\n    };\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var StoreParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Store',\n    description: 'Filestack Store Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        filename: {\n            oneOf: [{\n                    type: 'string',\n                }, {\n                    format: 'callback',\n                }],\n        },\n        location: {\n            '$ref': 'locationsDef',\n        },\n        path: {\n            type: 'string',\n        },\n        container: {\n            type: 'string',\n        },\n        region: {\n            '$ref': 'regionsDef',\n        },\n        access: {\n            type: 'string',\n            enum: ['public', 'private'],\n            default: 'private',\n        },\n        base64decode: {\n            type: 'boolean',\n        },\n        workflows: {\n            '$ref': 'workflowsDef',\n        },\n        sanitizer: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        exclude: {\n                            type: 'array',\n                            items: [{\n                                    type: 'string',\n                                }],\n                        },\n                        replacement: {\n                            type: 'string',\n                        },\n                    },\n                }],\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var SecurityParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Security',\n    description: 'Filestack Security Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        expiry: {\n            type: 'number',\n        },\n        call: {\n            '$ref': 'securityCallDef',\n        },\n        handle: {\n            type: 'string',\n        },\n        url: {\n            type: 'string',\n        },\n        maxSize: {\n            type: 'number',\n        },\n        minSize: {\n            type: 'number',\n        },\n        path: {\n            type: 'string',\n        },\n        container: {\n            type: 'string',\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var PreviewParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Preview',\n    description: 'Filestack Preview Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        id: {\n            type: 'string',\n        },\n        css: {\n            type: 'string',\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var UploadParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Upload',\n    description: 'Filestack Upload Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        partSize: {\n            type: 'integer',\n            minimum: 5 * 1024 * 1024,\n        },\n        concurrency: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 20,\n        },\n        progressInterval: {\n            type: 'integer',\n            minimum: 1,\n        },\n        retry: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 20,\n        },\n        retryFactor: {\n            type: 'integer',\n        },\n        retryMaxTime: {\n            type: 'integer',\n        },\n        timeout: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 60 * 60 * 1000,\n        },\n        intelligent: {\n            oneOf: [{\n                    type: 'boolean',\n                }, {\n                    type: 'string',\n                    enum: ['fallback'],\n                }],\n        },\n        intelligentChunkSize: {\n            type: 'integer',\n        },\n        onProgress: {\n            format: 'callback',\n        },\n        onRetry: {\n            format: 'callback',\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { UploadParamsSchema } from './upload.schema';\nexport var PickerParamsSchema = {\n    $schema: 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Picker',\n    description: 'Filestack Picker Options',\n    type: 'object',\n    additionalProperties: false,\n    // required: ['container'],\n    properties: {\n        allowManualRetry: {\n            type: 'boolean',\n        },\n        accept: {\n            additionalProperties: false,\n            oneOf: [\n                {\n                    type: 'string',\n                },\n                {\n                    type: 'array',\n                    minItems: 1,\n                    items: [\n                        {\n                            type: 'string',\n                        },\n                    ],\n                },\n            ],\n        },\n        fromSources: {\n            type: 'array',\n            items: [\n                {\n                    type: 'string',\n                    additionalProperties: false,\n                    enum: [\n                        'local_file_system',\n                        'url',\n                        'imagesearch',\n                        'facebook',\n                        'instagram',\n                        'googledrive',\n                        'dropbox',\n                        'webcam',\n                        'video',\n                        'audio',\n                        'box',\n                        'github',\n                        'gmail',\n                        'picasa',\n                        'onedrive',\n                        'onedriveforbusiness',\n                        'clouddrive',\n                        'googlephotos',\n                        'customsource',\n                    ],\n                },\n            ],\n        },\n        container: {\n            format: 'HTMLContainer',\n        },\n        cleanupImageExif: {\n            oneOf: [\n                {\n                    type: 'boolean',\n                },\n                {\n                    type: 'object',\n                    additionalProperties: false,\n                    properties: {\n                        keepOrientation: {\n                            type: 'boolean',\n                        },\n                        keepICCandAPP: {\n                            type: 'boolean',\n                        },\n                    },\n                },\n            ],\n        },\n        displayMode: {\n            type: 'string',\n            enum: ['inline', 'overlay', 'dropPane'],\n        },\n        concurrency: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 20,\n        },\n        customSourceContainer: {\n            type: 'string',\n        },\n        customSourcePath: {\n            type: 'string',\n        },\n        customSourceName: {\n            type: 'string',\n        },\n        disableStorageKey: {\n            type: 'boolean',\n        },\n        disableTransformer: {\n            type: 'boolean',\n        },\n        disableThumbnails: {\n            type: 'boolean',\n        },\n        exposeOriginalFile: {\n            type: 'boolean',\n        },\n        globalDropZone: {\n            type: 'boolean',\n        },\n        hideModalWhenUploading: {\n            type: 'boolean',\n        },\n        imageDim: {\n            type: 'array',\n            minItems: 2,\n            maxItems: 2,\n            items: [\n                {\n                    type: 'integer',\n                    minimum: 1,\n                },\n            ],\n        },\n        imageMax: {\n            type: 'array',\n            minItems: 2,\n            maxItems: 2,\n            items: [\n                {\n                    type: 'integer',\n                    minimum: 1,\n                },\n            ],\n        },\n        imageMin: {\n            type: 'array',\n            minItems: 2,\n            maxItems: 2,\n            items: [\n                {\n                    type: 'integer',\n                    minimum: 1,\n                },\n            ],\n        },\n        imageMinMaxBlock: {\n            type: 'boolean',\n            default: false,\n        },\n        lang: {\n            type: 'string',\n            enum: ['ca', 'da', 'de', 'en', 'es', 'fr', 'he', 'it', 'ja', 'ko', 'nl', 'no', 'pl', 'pt', 'sv', 'ru', 'vi', 'zh', 'tr'],\n        },\n        minFiles: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 1000000,\n        },\n        maxFiles: {\n            type: 'integer',\n            minimum: 1,\n            maximum: 1000000,\n        },\n        maxSize: {\n            type: 'integer',\n            minimum: 1,\n        },\n        modalSize: {\n            type: 'array',\n            minItems: 2,\n            maxItems: 2,\n            items: [\n                {\n                    type: 'integer',\n                    minimum: 1,\n                    maximum: 1000000,\n                },\n            ],\n        },\n        rootId: {\n            type: 'string',\n        },\n        startUploadingWhenMaxFilesReached: {\n            type: 'boolean',\n        },\n        uploadInBackground: {\n            type: 'boolean',\n        },\n        videoResolution: {\n            type: 'string',\n        },\n        onCancel: {\n            format: 'callback',\n        },\n        onClose: {\n            format: 'callback',\n        },\n        onOpen: {\n            format: 'callback',\n        },\n        onFileSelected: {\n            format: 'callback',\n        },\n        onFileUploadStarted: {\n            format: 'callback',\n        },\n        onFileUploadFinished: {\n            format: 'callback',\n        },\n        onFileUploadFailed: {\n            format: 'callback',\n        },\n        onFileUploadProgress: {\n            format: 'callback',\n        },\n        onUploadStarted: {\n            format: 'callback',\n        },\n        onUploadDone: {\n            format: 'callback',\n        },\n        storeTo: {\n            additionalProperties: false,\n            type: 'object',\n            properties: {\n                filename: {\n                    type: 'string',\n                },\n                location: {\n                    $ref: 'locationsDef',\n                },\n                container: {\n                    type: 'string',\n                },\n                path: {\n                    type: 'string',\n                },\n                region: {\n                    type: 'string',\n                },\n                access: {\n                    type: 'string',\n                    enum: ['public', 'private'],\n                },\n                workflows: {\n                    $ref: 'workflowsDef',\n                },\n            },\n        },\n        viewType: {\n            type: 'string',\n            enum: ['grid', 'list'],\n        },\n        transformations: {\n            type: 'object',\n            additionalProperties: false,\n            properties: {\n                circle: {\n                    type: 'boolean',\n                },\n                rotate: {\n                    type: 'boolean',\n                },\n                force: {\n                    type: 'boolean',\n                },\n                crop: {\n                    oneOf: [\n                        {\n                            type: 'boolean',\n                        },\n                        {\n                            type: 'object',\n                            additionalProperties: false,\n                            properties: {\n                                force: {\n                                    type: 'boolean',\n                                },\n                                aspectRatio: {\n                                    type: 'number',\n                                },\n                            },\n                        },\n                    ],\n                },\n            },\n        },\n        customText: {\n            type: 'object',\n            patternProperties: {\n                '.*': { type: 'string' },\n            },\n        },\n        dropPane: {\n            type: 'object',\n            properties: {\n                cropFiles: {\n                    type: 'boolean',\n                },\n                customText: {\n                    type: 'string',\n                },\n                disableClick: {\n                    type: 'boolean',\n                },\n                overlay: {\n                    type: 'boolean',\n                },\n                showIcon: {\n                    type: 'boolean',\n                },\n                showProgress: {\n                    type: 'boolean',\n                },\n                onDragEnter: {\n                    format: 'callback',\n                },\n                onProgress: {\n                    format: 'callback',\n                },\n                onDragLeave: {\n                    format: 'callback',\n                },\n                onDragOver: {\n                    format: 'callback',\n                },\n                onDrop: {\n                    format: 'callback',\n                },\n                onSuccess: {\n                    format: 'callback',\n                },\n                onError: {\n                    format: 'callback',\n                },\n                onClick: {\n                    format: 'callback',\n                },\n            },\n        },\n        errorsTimeout: {\n            type: 'number',\n            minimum: 0,\n        },\n        customAuthText: {\n            type: 'object',\n            patternProperties: {\n                '.*': {\n                    additionalProperties: false,\n                    type: 'object',\n                    required: ['top', 'bottom'],\n                    properties: {\n                        top: {\n                            type: 'string',\n                        },\n                        bottom: {\n                            type: 'string',\n                        },\n                    },\n                },\n            },\n        },\n        uploadConfig: {\n            type: 'object',\n            additionalProperties: false,\n            properties: UploadParamsSchema.properties,\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var MetadataParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Metadata',\n    description: 'Filestack Metadata Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        size: {\n            type: 'boolean',\n        },\n        mimetype: {\n            type: 'boolean',\n        },\n        filename: {\n            type: 'boolean',\n        },\n        width: {\n            type: 'boolean',\n        },\n        metadata: {\n            type: 'boolean',\n        },\n        height: {\n            type: 'boolean',\n        },\n        uploaded: {\n            type: 'boolean',\n        },\n        writeable: {\n            type: 'boolean',\n        },\n        cloud: {\n            type: 'boolean',\n        },\n        sourceUrl: {\n            type: 'boolean',\n        },\n        md5: {\n            type: 'boolean',\n        },\n        sha1: {\n            type: 'boolean',\n        },\n        sha224: {\n            type: 'boolean',\n        },\n        sha256: {\n            type: 'boolean',\n        },\n        sha384: {\n            type: 'boolean',\n        },\n        sha512: {\n            type: 'boolean',\n        },\n        location: {\n            type: 'boolean',\n        },\n        path: {\n            type: 'boolean',\n        },\n        container: {\n            type: 'boolean',\n        },\n        exif: {\n            type: 'boolean',\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var RetrieveParamsSchema = {\n    '$schema': 'http://json-schema.org/draft-07/schema#',\n    title: 'Filestack Retrieve',\n    description: 'Filestack Retrieve Options',\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        metadata: {\n            type: 'boolean',\n        },\n        head: {\n            type: 'boolean',\n        },\n        dl: {\n            type: 'boolean',\n        },\n        cache: {\n            type: 'boolean',\n        },\n        extension: {\n            type: 'string',\n        },\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { FilestackError, FilestackErrorType } from './../../filestack_error';\nimport { getValidator, SecurityParamsSchema } from './../../schema';\nimport { isNode, requireNode } from '../utils';\n/**\n * Returns Filestack base64 policy and HMAC-SHA256 signature\n *\n * ### Example\n *\n * ```js\n * import * as filestack from 'filestack-js';\n *\n * const jsonPolicy = { 'expiry': 253381964415 };\n * const security = filestack.getSecurity(jsonPolicy, '<YOUR_APP_SECRET>');\n * ```\n *\n * @param policyOptions\n * @param appSecret\n */\nexport var getSecurity = function (policyOptions, appSecret) {\n    if (!isNode()) {\n        throw new Error('getSecurity is only supported in nodejs');\n    }\n    var validateRes = getValidator(SecurityParamsSchema)(policyOptions);\n    if (validateRes.errors.length) {\n        throw new FilestackError(\"Invalid security params\", validateRes.errors, FilestackErrorType.VALIDATION);\n    }\n    var policy = Buffer.from(JSON.stringify(policyOptions)).toString('base64');\n    var signature = requireNode('crypto').createHmac('sha256', appSecret)\n        .update(policy)\n        .digest('hex');\n    return { policy: policy, signature: signature };\n};\n/**\n * Check webhook signature\n *\n * @param secret - app secred\n * @param rawBody - unchanged raw webhook body\n * @param toCompare - data from wh response headers\n */\nexport var validateWebhookSignature = function (secret, rawBody, toCompare) {\n    if (!isNode()) {\n        throw new Error('validateWebhookSignature is only supported in nodejs');\n    }\n    var hash = requireNode('crypto')\n        .createHmac('sha256', secret)\n        .update(toCompare.timestamp + \".\" + rawBody)\n        .digest('hex');\n    return hash === toCompare.signature;\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @private\n */\nvar PICKER_VERSION = '1.7.2';\nexport var config = {\n    urls: {\n        fileApiUrl: 'https://www.filestackapi.com/api/file',\n        uploadApiUrl: 'https://upload.filestackapi.com',\n        cloudApiUrl: 'https://cloud.filestackapi.com',\n        cdnUrl: 'https://cdn.filestackcontent.com',\n        pickerUrl: \"https://static.filestackapi.com/picker/\" + PICKER_VERSION + \"/picker.js\",\n    },\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport axios from 'axios';\nimport { uniqueId } from '../utils';\nvar debug = Debug('fs:request');\nvar RESPONSE_DEBUG_PREFIX = 'x-filestack-';\n/**\n *\n * @private\n * @param method\n * @param url\n */\nexport var requestWithSource = function (retryConfig) {\n    var axiosInstance = axios.create({\n        headers: {\n            'filestack-source': 'JS-3.3.4',\n            'filestack-trace-id': Math.floor(Date.now() / 1000) + \"-\" + uniqueId(),\n            'filestack-trace-span': \"jssdk-\" + uniqueId(),\n        },\n    });\n    if (retryConfig) {\n        useRetryPolicy(axiosInstance, retryConfig);\n    }\n    useDebugInterceptor(axiosInstance);\n    return axiosInstance;\n};\nexport var postWithRetry = function (url, fields, config, retryConfig) {\n    if (config === void 0) { config = {}; }\n    debug(\"[RequestWithRetry] set fields %O for url \" + url, fields);\n    if (!config.headers) {\n        config.headers = {};\n    }\n    config.headers = Object.assign({}, config.headers, {\n        'filestack-source': 'JS-3.3.4',\n        'filestack-trace-id': Math.floor(Date.now() / 1000) + \"-\" + uniqueId(),\n        'filestack-trace-span': \"jssdk-\" + uniqueId(),\n    });\n    var axiosInstance = axios.create();\n    if (retryConfig) {\n        useRetryPolicy(axiosInstance, retryConfig);\n    }\n    useDebugInterceptor(axiosInstance);\n    return axiosInstance.post(url, fields, config);\n};\nexport var shouldRetry = function (err) {\n    // we always should retry on network failure\n    switch (err.code) {\n        case 'ECONNRESET':\n        case 'ETIMEDOUT':\n        case 'EADDRINUSE':\n        case 'ESOCKETTIMEDOUT':\n        case 'EPIPE':\n            return true;\n    }\n    // if request was not made and there is no response - retry\n    if (!err.response) {\n        return true;\n    }\n    // we should retry on all server errors (5xx)\n    if (500 <= err.response.status && err.response.status <= 599) {\n        return true;\n    }\n    // we should not retry on other errors (4xx) ie: BadRequest etc\n    return false;\n};\nvar useDebugInterceptor = function (instance) {\n    /* istanbul ignore next */ // this is internal debug method\n    instance.interceptors.response.use(function (resp) {\n        if (debug.enabled) {\n            for (var i in resp.headers) {\n                if (!resp.headers.hasOwnProperty(resp.headers) && i.indexOf(RESPONSE_DEBUG_PREFIX) === -1) {\n                    continue;\n                }\n                debug(\"Filestack Response Debug Header - \" + i + \": \" + resp.headers[i]);\n            }\n        }\n        return resp;\n    });\n};\nexport var useRetryPolicy = function (instance, retryConfig) {\n    instance.interceptors.request.use(function (config) {\n        var currentState = config['retry'] || {};\n        currentState.retryCount = currentState.retryCount || 0;\n        config['retry'] = currentState;\n        return config;\n    });\n    return instance.interceptors.response.use(null, function (err) {\n        var requestConfig = err.config;\n        if (axios.isCancel(err)) {\n            debug('[Retry] Upload canceled by user');\n            return Promise.reject(err);\n        }\n        debug(\"[Retry] Start retry process code: \" + err.code + \", %O\", err);\n        /* istanbul ignore next */\n        if (!requestConfig) {\n            debug(\"[Retry] Retry config not found, Rejecting request\");\n            return Promise.reject(err);\n        }\n        var state = requestConfig.retry;\n        if (!shouldRetry(err)) {\n            debug(\"[Retry] Response code not allowing to retry\");\n            return Promise.reject(err);\n        }\n        requestConfig.retry.retryCount += 1;\n        if (requestConfig.retry.retryCount > retryConfig.retry) {\n            debug(\"[Retry] Max retry count reached \" + requestConfig.retry.retryCount);\n            return Promise.reject(err);\n        }\n        var retryDelay = Math.max(Math.min(retryConfig.retryMaxTime, (Math.pow(retryConfig.retryFactor, state.retryCount)) * 1000), 1);\n        debug(\"[Retry] Retrying request to \" + requestConfig.url + \", count \" + state.retryCount + \" of \" + retryConfig.retry + \" - Delay: \" + retryDelay);\n        return new Promise(function (resolve) { return setTimeout(function () {\n            if (typeof retryConfig.onRetry === 'function') {\n                retryConfig.onRetry.call(instance, requestConfig);\n            }\n            resolve(instance(requestConfig));\n        }, retryDelay); });\n    });\n};\n// set global debug inspector\nuseDebugInterceptor(axios);\nexport { axios as request };\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { request } from './request';\nimport { removeEmpty } from '../utils';\nimport { FilestackError } from './../../filestack_error';\nimport { getValidator, MetadataParamsSchema, RetrieveParamsSchema } from './../../schema';\n/**\n * Remove given file\n *\n * @private\n * @param session\n * @param handle\n * @param security\n */\nexport var remove = function (session, handle, skipStorage, security) {\n    if (!handle || typeof handle !== 'string') {\n        throw new FilestackError('A valid Filestack handle is required for remove');\n    }\n    if (!(session.policy && session.signature) && (!security || !(security.policy && security.signature))) {\n        throw new FilestackError('Security policy and signature are required for remove');\n    }\n    var fileApiUrl = session.urls.fileApiUrl;\n    var baseURL = fileApiUrl + \"/\" + handle;\n    var options = {\n        key: session.apikey,\n        policy: (security && security.policy) || session.policy,\n        signature: (security && security.signature) || session.signature,\n    };\n    if (skipStorage) {\n        options.skip_storage = true;\n    }\n    return request.delete(baseURL, {\n        params: removeEmpty(options),\n    });\n};\n/**\n * Returns file metadata\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n * @param security\n */\nexport var metadata = function (session, handle, opts, security) {\n    if (!handle || typeof handle !== 'string') {\n        throw new FilestackError('A valid Filestack handle is required for metadata');\n    }\n    var validateRes = getValidator(MetadataParamsSchema)(opts);\n    if (validateRes.errors.length) {\n        throw new FilestackError(\"Invalid metadata params\", validateRes.errors);\n    }\n    var options = tslib_1.__assign({}, opts);\n    options.source_url = options.sourceUrl; // source_url is snake_case\n    options.policy = (security && security.policy) || session.policy;\n    options.signature = (security && security.signature) || session.signature;\n    var baseURL = session.urls.fileApiUrl + \"/\" + handle + \"/metadata\";\n    return new Promise(function (resolve, reject) {\n        request\n            .get(baseURL, { params: removeEmpty(options) })\n            .then(function (res) { return resolve(tslib_1.__assign({}, res.data, { handle: handle })); })\n            .catch(reject);\n    });\n};\n/**\n * @private\n */\nvar ERequestMethod;\n(function (ERequestMethod) {\n    ERequestMethod[\"get\"] = \"get\";\n    ERequestMethod[\"head\"] = \"head\";\n})(ERequestMethod || (ERequestMethod = {}));\n/**\n * @private\n */\nvar EResponseType;\n(function (EResponseType) {\n    EResponseType[\"blob\"] = \"blob\";\n    EResponseType[\"json\"] = \"json\";\n})(EResponseType || (EResponseType = {}));\n/**\n * Returns file information\n *\n * @private\n * @param session\n * @param handle\n * @param options\n * @param security\n */\nexport var retrieve = function (session, handle, options, security) {\n    if (options === void 0) { options = {}; }\n    if (!handle || handle.length === 0 || typeof handle !== 'string') {\n        throw new FilestackError('File handle is required');\n    }\n    var validateRes = getValidator(RetrieveParamsSchema)(options);\n    if (validateRes.errors.length) {\n        throw new FilestackError(\"Invalid retrieve params\", validateRes.errors);\n    }\n    var requestOptions = tslib_1.__assign({}, options);\n    requestOptions.key = session.apikey;\n    requestOptions.policy = (security && security.policy) || session.policy;\n    requestOptions.signature = (security && security.signature) || session.signature;\n    var method = ERequestMethod.get;\n    if (requestOptions.head) {\n        method = ERequestMethod.head;\n        delete requestOptions.head;\n    }\n    var extension;\n    if (requestOptions.extension && requestOptions.extension.length) {\n        extension = requestOptions.extension;\n        delete requestOptions.extension;\n    }\n    var metadata;\n    if (requestOptions.metadata) {\n        if (method === ERequestMethod.head) {\n            throw new FilestackError('Head and metadata options cannot be used together');\n        }\n        metadata = requestOptions.metadata;\n        delete requestOptions.metadata;\n    }\n    var baseURL = session.urls.fileApiUrl + \"/\" + handle + (extension ? \"+\" + extension : '') + (metadata ? '/metadata' : '');\n    return new Promise(function (resolve, reject) {\n        request({\n            url: baseURL,\n            method: method,\n            params: removeEmpty(requestOptions),\n        })\n            .then(function (res) { return resolve(method === ERequestMethod.head ? res.headers : res.data); })\n            .catch(reject);\n    });\n};\n","/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { config } from './../config';\nimport { TransformSchema } from './../schema/transforms.schema';\nimport { getValidator } from './../schema/validator';\nimport { resolveHost, b64 } from './utils';\nimport { FilestackError, FilestackErrorType } from './../filestack_error';\nimport Debug from 'debug';\nvar debug = Debug('fs:filelink');\n/**\n * Align enum\n */\nexport var AlignOptions;\n(function (AlignOptions) {\n    AlignOptions[\"left\"] = \"left\";\n    AlignOptions[\"right\"] = \"right\";\n    AlignOptions[\"center\"] = \"center\";\n    AlignOptions[\"bottom\"] = \"bottom\";\n    AlignOptions[\"top\"] = \"top\";\n})(AlignOptions || (AlignOptions = {}));\n/**\n * Align enum with faces option\n */\nexport var AlignFacesOptions;\n(function (AlignFacesOptions) {\n    AlignFacesOptions[\"left\"] = \"left\";\n    AlignFacesOptions[\"right\"] = \"right\";\n    AlignFacesOptions[\"center\"] = \"center\";\n    AlignFacesOptions[\"bottom\"] = \"bottom\";\n    AlignFacesOptions[\"top\"] = \"top\";\n    AlignFacesOptions[\"faces\"] = \"faces\";\n})(AlignFacesOptions || (AlignFacesOptions = {}));\n/**\n * Fit enum\n */\nexport var FitOptions;\n(function (FitOptions) {\n    FitOptions[\"clip\"] = \"clip\";\n    FitOptions[\"crop\"] = \"crop\";\n    FitOptions[\"scale\"] = \"scale\";\n    FitOptions[\"max\"] = \"max\";\n})(FitOptions || (FitOptions = {}));\n/**\n * Blur enum\n */\nexport var BlurMode;\n(function (BlurMode) {\n    BlurMode[\"linear\"] = \"linear\";\n    BlurMode[\"gaussian\"] = \"gaussian\";\n})(BlurMode || (BlurMode = {}));\n/**\n * Shapes enum\n */\nexport var ShapeType;\n(function (ShapeType) {\n    ShapeType[\"oval\"] = \"oval\";\n    ShapeType[\"rect\"] = \"rect\";\n})(ShapeType || (ShapeType = {}));\n/**\n * Noise type enum\n */\nexport var NoiseType;\n(function (NoiseType) {\n    NoiseType[\"none\"] = \"none\";\n    NoiseType[\"low\"] = \"low\";\n    NoiseType[\"medium\"] = \"medium\";\n    NoiseType[\"high\"] = \"high\";\n})(NoiseType || (NoiseType = {}));\n/**\n * Style type enum\n */\nexport var StyleType;\n(function (StyleType) {\n    StyleType[\"artwork\"] = \"artwork\";\n    StyleType[\"photo\"] = \"photo\";\n})(StyleType || (StyleType = {}));\n/**\n * Color space enum\n */\nexport var ColorspaceType;\n(function (ColorspaceType) {\n    ColorspaceType[\"RGB\"] = \"RGB\";\n    ColorspaceType[\"CMYK\"] = \"CMYK\";\n    ColorspaceType[\"Input\"] = \"Input\";\n})(ColorspaceType || (ColorspaceType = {}));\n/**\n * Crop faces options enum\n */\nexport var CropfacesType;\n(function (CropfacesType) {\n    CropfacesType[\"thumb\"] = \"thumb\";\n    CropfacesType[\"crop\"] = \"crop\";\n    CropfacesType[\"fill\"] = \"fill\";\n})(CropfacesType || (CropfacesType = {}));\n/**\n * Convert to format\n */\nexport var VideoTypes;\n(function (VideoTypes) {\n    VideoTypes[\"h264\"] = \"h264\";\n    VideoTypes[\"h264_hi\"] = \"h264.hi\";\n    VideoTypes[\"webm\"] = \"webm\";\n    VideoTypes[\"webm-hi\"] = \"webm.hi\";\n    VideoTypes[\"ogg\"] = \"ogg\";\n    VideoTypes[\"ogg-hi\"] = \"ogg.hi\";\n    VideoTypes[\"hls-variant\"] = \"hls.variant\";\n    VideoTypes[\"mp3\"] = \"mp3\";\n    VideoTypes[\"oga\"] = \"oga\";\n    VideoTypes[\"m4a\"] = \"m4a\";\n    VideoTypes[\"aac\"] = \"aac\";\n    VideoTypes[\"hls\"] = \"hls.variant.audio\";\n})(VideoTypes || (VideoTypes = {}));\nexport var URLScreenshotAgent;\n(function (URLScreenshotAgent) {\n    URLScreenshotAgent[\"desktop\"] = \"desktop\";\n    URLScreenshotAgent[\"mobile\"] = \"mobile\";\n})(URLScreenshotAgent || (URLScreenshotAgent = {}));\nexport var URLScreenshotMode;\n(function (URLScreenshotMode) {\n    URLScreenshotMode[\"all\"] = \"all\";\n    URLScreenshotMode[\"window\"] = \"window\";\n})(URLScreenshotMode || (URLScreenshotMode = {}));\nexport var URLScreenshotOrientation;\n(function (URLScreenshotOrientation) {\n    URLScreenshotOrientation[\"portrait\"] = \"portrait\";\n    URLScreenshotOrientation[\"landscape\"] = \"landscape\";\n})(URLScreenshotOrientation || (URLScreenshotOrientation = {}));\n/**\n * Video storage location\n */\nexport var Locations;\n(function (Locations) {\n    Locations[\"s3\"] = \"s3\";\n    Locations[\"azure\"] = \"azure\";\n    Locations[\"gcs\"] = \"gcs\";\n    Locations[\"rackspace\"] = \"rackspace\";\n    Locations[\"dropbox\"] = \"dropbox\";\n})(Locations || (Locations = {}));\nexport var VideoAccess;\n(function (VideoAccess) {\n    VideoAccess[\"private\"] = \"private\";\n    VideoAccess[\"public\"] = \"public\";\n})(VideoAccess || (VideoAccess = {}));\nexport var VideoAccessMode;\n(function (VideoAccessMode) {\n    VideoAccessMode[\"preserve\"] = \"preserve\";\n    VideoAccessMode[\"constrain\"] = \"constrain\";\n    VideoAccessMode[\"letterbox\"] = \"letterbox\";\n    VideoAccessMode[\"pad\"] = \"pad\";\n    VideoAccessMode[\"crop\"] = \"crop\";\n})(VideoAccessMode || (VideoAccessMode = {}));\nvar handleRegexp = /^[\\w\\-]{20}$/;\n/**\n * Class for handling filelinks. For now its supports all filestack transforms.\n * It outputs transform url or array of transforms\n * @example\n * const link = new Filelink('handle or externalUrl', 'apikey');\n * link.flip().flop().store();\n *\n * console.log(link.toString());\n * // enable base64 support\n * link.setBase64(true)\n *\n * console.log(link.toString());\n *\n * @export\n * @class Filelink\n */\nvar Filelink = /** @class */ (function () {\n    /**\n     * Class for generating tranformation urls\n     * @param {(string | string[])} source - handle or multiple handles (i.e. for collage)\n     * @param {string} [apikey] - your apikey - required for all external sources\n     *\n     * @memberof Filelink\n     */\n    function Filelink(source, apikey) {\n        /**\n         * Applied transforms array\n         *\n         * @private\n         * @memberof Filelink\n         */\n        this.transforms = [];\n        /**\n         * Is base64 support is enabled\n         *\n         * @private\n         * @type {boolean}\n         * @memberof Filelink\n         */\n        this.b64 = false;\n        /**\n         * should use a validator to check params of every task\n         * @private\n         * @type {boolean}\n         * @memberof Filelink\n         */\n        this.useValidator = true;\n        /**\n         * Converts array of objects to object\n         *\n         * @private\n         * @example [{name: 'resize', params: {height: 125}}] => {resize: {height: 125}}\n         * @param arr - any array\n         */\n        this.arrayToObject = function (array, nameKey, dataKey) {\n            return array.reduce(function (obj, item) {\n                obj[item[nameKey]] = item[dataKey];\n                return obj;\n            }, {});\n        };\n        this.source = source;\n        var isExternal = this.isSourceExternal();\n        debug(\"Source \" + source + \" - isExternal? \" + isExternal);\n        if (isExternal && !apikey) {\n            throw new FilestackError('External sources requires apikey to handle transforms');\n        }\n        if (!isExternal && typeof this.source === 'string' && !handleRegexp.test(this.source)) {\n            throw new FilestackError('Invalid filestack source provided');\n        }\n        this.apikey = apikey;\n    }\n    /**\n     * Enable new base64 link support to avoid problems with special chars in link\n     *\n     * @param {boolean} flag\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.setBase64 = function (flag) {\n        this.b64 = flag;\n        return this;\n    };\n    /**\n     * Switch the useValidator flag\n     *\n     * @param {boolean} flag\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.setUseValidator = function (flag) {\n        this.useValidator = flag;\n        return this;\n    };\n    /**\n     * Set cname for transformation link\n     *\n     * @param {string} cname\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.setCname = function (cname) {\n        this.cname = cname;\n        return this;\n    };\n    /**\n     * Set custom domain. Used for test purpose. It will be removed when after client.transform\n     *\n     * @param {string} domain\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.setCustomDomain = function (domain) {\n        this.customDomain = domain;\n        return this;\n    };\n    /**\n     * Returns JSONSchema form transformations params\n     *\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.getValidationSchema = function () {\n        return TransformSchema;\n    };\n    /**\n     * Returns transformations in JSON format\n     *\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.getTransformations = function () {\n        if (this.useValidator) {\n            this.validateTasks(this.transforms);\n        }\n        return this.transforms;\n    };\n    /**\n     * Returns transform url\n     *\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.toString = function () {\n        var returnUrl = [];\n        returnUrl.push(this.getCdnHost());\n        if (this.useValidator) {\n            this.validateTasks(this.transforms);\n        }\n        if (this.apikey) {\n            returnUrl.push(this.apikey);\n        }\n        var transformsString = this.generateTransformString();\n        var source = this.source;\n        if (this.b64) {\n            if (this.transforms.length > 0) {\n                transformsString = \"b64/\" + b64(JSON.stringify(this.transforms));\n            }\n            if (Array.isArray(source)) {\n                source = this.arrayToString(source);\n            }\n            source = \"b64://\" + b64(source);\n        }\n        else {\n            if (Array.isArray(source)) {\n                source = this.arrayToString(source);\n            }\n            else {\n                source = this.escapeValue(source);\n            }\n        }\n        if (transformsString.length) {\n            returnUrl.push(transformsString);\n        }\n        returnUrl.push(source);\n        return returnUrl.join('/');\n    };\n    /**\n     * Add task and validate\n     *\n     * @param {string} name\n     * @param {*} [params]\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.addTask = function (name, params) {\n        Debug(\"Add task  \" + name + \" with params %O\", params);\n        if (name !== 'cache' && typeof params === 'boolean') {\n            if (!params) {\n                return this;\n            }\n            else {\n                params = undefined;\n            }\n        }\n        else if (typeof params === 'object' && !Object.keys(params).length) {\n            params = undefined;\n        }\n        this.transforms.push({ name: name, params: params });\n        return this;\n    };\n    /**\n     * Cleanup transformations on filelink\n     *\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.reset = function () {\n        this.transforms = [];\n        return this;\n    };\n    /**\n     * Transformations part\n     */\n    /**\n     * Adds flip transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#flip\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.flip = function () {\n        return this.addTask('flip', true);\n    };\n    /**\n     * Adds flop transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#flop\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.flop = function () {\n        return this.addTask('flop', true);\n    };\n    /**\n     * Adds enhance transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#enhance\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.enhance = function () {\n        return this.addTask('enhance', true);\n    };\n    /**\n     * Add security to link\n     *\n     * @see https://www.filestack.com/docs/api/processing/#redeye\n     * @returns\n     * @memberof Filelink\n     */\n    Filelink.prototype.redeye = function () {\n        return this.addTask('redeye', true);\n    };\n    /**\n     * Add monochrome transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#monochrome\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.monochrome = function () {\n        return this.addTask('monochrome', true);\n    };\n    /**\n     * Adds negative transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#negative\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.negative = function () {\n        return this.addTask('negative', true);\n    };\n    /**\n     * Adds tags transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#tags\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.tags = function () {\n        return this.addTask('tags', true);\n    };\n    /**\n     * Adds sfw transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#sfw\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.sfw = function () {\n        return this.addTask('sfw', true);\n    };\n    /**\n     * Adds store transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#store\n     * @param {(StoreParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.store = function (params) {\n        return this.addTask('store', params);\n    };\n    /**\n     * Adds cache transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#cache\n     * @param {(CacheParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.cache = function (params) {\n        return this.addTask('cache', params);\n    };\n    /**\n     * Adds resize transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#resize\n     * @param {ResizeParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.resize = function (params) {\n        return this.addTask('resize', params);\n    };\n    /**\n     * Adds crop transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#crop\n     * @param {CropParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.crop = function (params) {\n        return this.addTask('crop', params);\n    };\n    /**\n     * Adds rotate transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#rotate\n     * @param {RotateParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.rotate = function (params) {\n        return this.addTask('rotate', params);\n    };\n    /**\n     * Adds detect_faces transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#facial-detection\n     * @param {(DetectFacesParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.detectFaces = function (params) {\n        return this.addTask('detect_faces', params);\n    };\n    /**\n     * Adds crop faces transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#crop-faces\n     * @param {CropFacesParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.cropFaces = function (params) {\n        return this.addTask('crop_faces', params);\n    };\n    /**\n     * Adds pixelate faces transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#pixelate-faces\n     * @param {PixelateFacesParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.pixelateFaces = function (params) {\n        return this.addTask('pixelate_faces', params);\n    };\n    /**\n     * Adds blur faces transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#blur-faces\n     * @param {BlurFacesParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.blurFaces = function (params) {\n        return this.addTask('blur_faces', params);\n    };\n    /**\n     * Adds rounded corners transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#rounded-corners\n     * @param {(RoundedCornersParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.roundedCorners = function (params) {\n        return this.addTask('rounded_corners', params);\n    };\n    /**\n     * Adds polaroid transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#polaroid\n     * @param {(PolaroidParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.polaroid = function (params) {\n        return this.addTask('polaroid', params);\n    };\n    /**\n     * Adds vignette transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#vignette\n     * @param {(VignetteParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.vignette = function (params) {\n        return this.addTask('vignette', params);\n    };\n    /**\n     * Adds torn edges transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#torn-edges\n     * @param {(TornEdgesParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.tornEdges = function (params) {\n        return this.addTask('torn_edges', params);\n    };\n    /**\n     * Adds shadow transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#shadow\n     * @param {(ShadowParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.shadow = function (params) {\n        return this.addTask('shadow', params);\n    };\n    /**\n     * Adds circle transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#circle\n     * @param {(CircleParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.circle = function (params) {\n        return this.addTask('circle', params);\n    };\n    /**\n     * Adds border transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#border\n     * @param {(BorderParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.border = function (params) {\n        return this.addTask('border', params);\n    };\n    /**\n     * Adds sharpen transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#sharpen\n     * @param {(SharpenParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.sharpen = function (params) {\n        return this.addTask('sharpen', params);\n    };\n    /**\n     * Adds blur transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#blur\n     * @param {(BlurParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.blur = function (params) {\n        return this.addTask('blur', params);\n    };\n    /**\n     * Adds blackwhite transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#blackwhite\n     * @param {(BlackwhiteParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.blackwhite = function (params) {\n        return this.addTask('blackwhite', params);\n    };\n    /**\n     * Adds sepia transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#sepia\n     * @param {(SepiaParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.sepia = function (params) {\n        return this.addTask('sepia', params);\n    };\n    /**\n     * Adds pixelate transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#pixelate\n     * @param {(PixelateParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.pixelate = function (params) {\n        return this.addTask('pixelate', params);\n    };\n    /**\n     * Adds oilpaint transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#oil-paint\n     * @param {(OilPaintParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.oilPaint = function (params) {\n        return this.addTask('oil_paint', params);\n    };\n    /**\n     * Adds modulate transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#modulate\n     * @param {(ModulateParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.modulate = function (params) {\n        return this.addTask('modulate', params);\n    };\n    /**\n     * Adds partial pixelate transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#partial-pixelate\n     * @param {PartialPixelateParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.partialPixelate = function (params) {\n        return this.addTask('partial_pixelate', params);\n    };\n    /**\n     * Adds partial blur transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#partial-blur\n     * @param {PartialBlurParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.partialBlur = function (params) {\n        return this.addTask('partial_blur', params);\n    };\n    /**\n     * Adds collage transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#collage\n     * @param {CollageParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.collage = function (params) {\n        return this.addTask('collage', params);\n    };\n    /**\n     * Adds upscale transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#upscale\n     * @param {(UpscaleParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.upscale = function (params) {\n        return this.addTask('upscale', params);\n    };\n    /**\n     * Adds ascii transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#ascii\n     * @param {(AsciiParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.ascii = function (params) {\n        return this.addTask('ascii', params);\n    };\n    /**\n     * Adds quality transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#quality\n     * @param {QualityParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.quality = function (params) {\n        return this.addTask('quality', params);\n    };\n    /**\n     * Adds security transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#security\n     * @param {SecurityParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.security = function (params) {\n        return this.addTask('security', params);\n    };\n    /**\n     * Adds output transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#output\n     * @param {OutputParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.output = function (params) {\n        return this.addTask('output', params);\n    };\n    /**\n     * Adds video convert transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#video-convert\n     * @param {VideoConvertParams} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.videoConvert = function (params) {\n        return this.addTask('video_convert', params);\n    };\n    /**\n     * Adds URLScreenshot transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#urlscreenshot\n     * @param {(URLScreenshotParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.URLScreenshot = function (params) {\n        return this.addTask('urlscreenshot', params);\n    };\n    /**\n     * Adds pdfinfo transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#pdfinfo\n     * @param {(PdfInfoParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.PDFInfo = function (params) {\n        return this.addTask('pdfinfo', params);\n    };\n    /**\n     * Adds pdfconvert transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#pdfconvert\n     * @param {(PdfConvertParams | boolean)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.PDFConvert = function (params) {\n        return this.addTask('pdfconvert', params);\n    };\n    /**\n     * Adds fallback transformation\n     *\n     * @see https://www.filestack.com/docs/api/processing/#fallback\n     * @param {(FallbackParams)} params\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.fallback = function (params) {\n        return this.addTask('fallback', params);\n    };\n    /**\n     * Add zip transformation which create a zip package on files\n     * used on actual context\n     *\n     * @see https://www.filestack.com/docs/api/processing/#zip\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.zip = function () {\n        return this.addTask('zip', true);\n    };\n    /**\n     * Add task which minify a css file\n     *\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.minifyCss = function (params) {\n        return this.addTask('minify_css', params);\n    };\n    /**\n     * Add task which minify a javascript file.\n     * For better handling of 'targets' param, use with b64 flag enabled.\n     *\n     * @returns this\n     * @memberof Filelink\n     */\n    Filelink.prototype.minifyJs = function (params) {\n        return this.addTask('minify_js', params);\n    };\n    /**\n     * Checks if source is external\n     *\n     * @private\n     * @returns {boolean}\n     * @memberof Filelink\n     */\n    Filelink.prototype.isSourceExternal = function () {\n        if (!this.source) {\n            throw new FilestackError('Source not Set');\n        }\n        var toTest = Array.isArray(this.source) ? this.source : [this.source];\n        for (var i in toTest) {\n            /* istanbul ignore next */\n            if (!toTest.hasOwnProperty(i)) {\n                continue;\n            }\n            if (toTest[i].indexOf('src:') === 0 || toTest[i].indexOf('http') === 0) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Validate every task against schema\n     *\n     * @private\n     * @param {object[]} transformations - object which contain all transformations\n     * @returns {void}\n     * @memberof Filelink\n     */\n    Filelink.prototype.validateTasks = function (transformations) {\n        var res = Filelink.validator(this.arrayToObject(transformations, 'name', 'params'));\n        if (res.errors.length) {\n            throw new FilestackError(\"Params validation error\", res.errors, FilestackErrorType.VALIDATION);\n        }\n        return;\n    };\n    /**\n     * Returns correct cdn url with cname support\n     *\n     * @private\n     * @returns {string}\n     * @memberof Filelink\n     */\n    Filelink.prototype.getCdnHost = function () {\n        var urls = config.urls;\n        if (this.customDomain) {\n            urls.cdnUrl = this.customDomain;\n        }\n        urls = resolveHost(urls, this.cname);\n        return urls.cdnUrl;\n    };\n    /**\n     * Returns applied transformations as string\n     *\n     * @private\n     * @returns {string}\n     * @memberof Filelink\n     */\n    Filelink.prototype.generateTransformString = function () {\n        var _this = this;\n        var transforms = [];\n        this.transforms.forEach(function (el) {\n            transforms.push(_this.optionToString(el.name, el.params));\n        });\n        return transforms.join('/');\n    };\n    /**\n     * Flatten transformation option to string\n     *\n     * @private\n     * @example {resize:{width: 100,height: 200}} => resize=width:100,height:200\n     * @param key - option key\n     * @param values - option params\n     */\n    Filelink.prototype.optionToString = function (key, values) {\n        var _this = this;\n        var optionsString = [];\n        if (typeof values === 'undefined') {\n            return key;\n        }\n        // if we just want to enable feature\n        if (typeof values === 'boolean') {\n            if (!values && key === 'cache') {\n                return 'cache=false';\n            }\n            return key;\n        }\n        Object.keys(values).forEach(function (i) {\n            if (Array.isArray(values[i])) {\n                optionsString.push(i + \":\" + _this.arrayToString(values[i]));\n                return;\n            }\n            optionsString.push(i + \":\" + _this.escapeValue(values[i]));\n        });\n        return key + \"=\" + optionsString.join(',');\n    };\n    /**\n     * Escape params values\n     *\n     * @private\n     * @param {string} value\n     * @returns {string}\n     * @memberof Filelink\n     */\n    Filelink.prototype.escapeValue = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        if (value.indexOf('/') > -1 || value.indexOf(',') > -1) {\n            return \"\\\"\" + value + \"\\\"\";\n        }\n        return value;\n    };\n    /**\n     * Converts nested arrays to string\n     *\n     * @private\n     * @example [1,2, [2,3]] => \"[1,2, [2,3]]\"\n     * @param arr - any array\n     */\n    Filelink.prototype.arrayToString = function (arr) {\n        var _this = this;\n        var toReturn = arr.map(function (el) {\n            if (Array.isArray(el)) {\n                return _this.arrayToString(el);\n            }\n            return _this.escapeValue(el);\n        });\n        return \"[\" + toReturn + \"]\";\n    };\n    /**\n     * Validator instance\n     *\n     * @private\n     * @memberof Filelink\n     */\n    Filelink.validator = getValidator(TransformSchema);\n    return Filelink;\n}());\nexport { Filelink };\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Filelink } from './../filelink';\n/**\n * @private\n */\nvar toSnakeCase = function (original) {\n    var snakeCased = {};\n    var keys = Object.keys(original);\n    for (var i = 0; i < keys.length; i++) {\n        var newKey = keys[i].split(/(?=[A-Z])/).join('_').toLowerCase();\n        if (typeof original[keys[i]] === 'object' && !Array.isArray(original[keys[i]])) {\n            snakeCased[newKey] = toSnakeCase(original[keys[i]]);\n        }\n        else {\n            snakeCased[newKey] = original[keys[i]];\n        }\n    }\n    return snakeCased;\n};\n/**\n * Align enum\n */\nexport var EAlignOptions;\n(function (EAlignOptions) {\n    EAlignOptions[\"left\"] = \"left\";\n    EAlignOptions[\"right\"] = \"right\";\n    EAlignOptions[\"center\"] = \"center\";\n    EAlignOptions[\"bottom\"] = \"bottom\";\n    EAlignOptions[\"top\"] = \"top\";\n})(EAlignOptions || (EAlignOptions = {}));\n/**\n * Align enum with faces option\n */\nexport var EAlignFacesOptions;\n(function (EAlignFacesOptions) {\n    EAlignFacesOptions[\"left\"] = \"left\";\n    EAlignFacesOptions[\"right\"] = \"right\";\n    EAlignFacesOptions[\"center\"] = \"center\";\n    EAlignFacesOptions[\"bottom\"] = \"bottom\";\n    EAlignFacesOptions[\"top\"] = \"top\";\n    EAlignFacesOptions[\"faces\"] = \"faces\";\n})(EAlignFacesOptions || (EAlignFacesOptions = {}));\n/**\n * Fit enum\n */\nexport var EFitOptions;\n(function (EFitOptions) {\n    EFitOptions[\"clip\"] = \"clip\";\n    EFitOptions[\"crop\"] = \"crop\";\n    EFitOptions[\"scale\"] = \"scale\";\n    EFitOptions[\"max\"] = \"max\";\n})(EFitOptions || (EFitOptions = {}));\n/**\n * Blur enum\n */\nexport var EBlurMode;\n(function (EBlurMode) {\n    EBlurMode[\"linear\"] = \"linear\";\n    EBlurMode[\"gaussian\"] = \"gaussian\";\n})(EBlurMode || (EBlurMode = {}));\n/**\n * Shapes enum\n */\nexport var EShapeType;\n(function (EShapeType) {\n    EShapeType[\"oval\"] = \"oval\";\n    EShapeType[\"rect\"] = \"rect\";\n})(EShapeType || (EShapeType = {}));\n/**\n * Noise type enum\n */\nexport var ENoiseType;\n(function (ENoiseType) {\n    ENoiseType[\"none\"] = \"none\";\n    ENoiseType[\"low\"] = \"low\";\n    ENoiseType[\"medium\"] = \"medium\";\n    ENoiseType[\"high\"] = \"high\";\n})(ENoiseType || (ENoiseType = {}));\n/**\n * Style type enum\n */\nexport var EStyleType;\n(function (EStyleType) {\n    EStyleType[\"artwork\"] = \"artwork\";\n    EStyleType[\"photo\"] = \"photo\";\n})(EStyleType || (EStyleType = {}));\n/**\n * Color space enum\n */\nexport var EColorspaceType;\n(function (EColorspaceType) {\n    EColorspaceType[\"RGB\"] = \"RGB\";\n    EColorspaceType[\"CMYK\"] = \"CMYK\";\n    EColorspaceType[\"Input\"] = \"Input\";\n})(EColorspaceType || (EColorspaceType = {}));\n/**\n * Crop faces options enum\n */\nexport var ECropfacesType;\n(function (ECropfacesType) {\n    ECropfacesType[\"thumb\"] = \"thumb\";\n    ECropfacesType[\"crop\"] = \"crop\";\n    ECropfacesType[\"fill\"] = \"fill\";\n})(ECropfacesType || (ECropfacesType = {}));\n/**\n * Convert to format\n */\nexport var EVideoTypes;\n(function (EVideoTypes) {\n    EVideoTypes[\"h264\"] = \"h264\";\n    EVideoTypes[\"h264_hi\"] = \"h264.hi\";\n    EVideoTypes[\"webm\"] = \"webm\";\n    EVideoTypes[\"webm-hi\"] = \"webm.hi\";\n    EVideoTypes[\"ogg\"] = \"ogg\";\n    EVideoTypes[\"ogg-hi\"] = \"ogg.hi\";\n    EVideoTypes[\"hls-variant\"] = \"hls.variant\";\n    EVideoTypes[\"mp3\"] = \"mp3\";\n    EVideoTypes[\"oga\"] = \"oga\";\n    EVideoTypes[\"m4a\"] = \"m4a\";\n    EVideoTypes[\"aac\"] = \"aac\";\n    EVideoTypes[\"hls\"] = \"hls.variant.audio\";\n})(EVideoTypes || (EVideoTypes = {}));\nexport var EUrlscreenshotAgent;\n(function (EUrlscreenshotAgent) {\n    EUrlscreenshotAgent[\"desktop\"] = \"desktop\";\n    EUrlscreenshotAgent[\"mobile\"] = \"mobile\";\n})(EUrlscreenshotAgent || (EUrlscreenshotAgent = {}));\nexport var EUrlscreenshotMode;\n(function (EUrlscreenshotMode) {\n    EUrlscreenshotMode[\"all\"] = \"all\";\n    EUrlscreenshotMode[\"window\"] = \"window\";\n})(EUrlscreenshotMode || (EUrlscreenshotMode = {}));\nexport var EUrlscreenshotOrientation;\n(function (EUrlscreenshotOrientation) {\n    EUrlscreenshotOrientation[\"portrait\"] = \"portrait\";\n    EUrlscreenshotOrientation[\"landscape\"] = \"landscape\";\n})(EUrlscreenshotOrientation || (EUrlscreenshotOrientation = {}));\n/**\n * Video storage location\n */\nexport var EVideoLocations;\n(function (EVideoLocations) {\n    EVideoLocations[\"s3\"] = \"s3\";\n    EVideoLocations[\"azure\"] = \"azure\";\n    EVideoLocations[\"gcs\"] = \"gcs\";\n    EVideoLocations[\"rackspace\"] = \"rackspace\";\n    EVideoLocations[\"dropbox\"] = \"dropbox\";\n})(EVideoLocations || (EVideoLocations = {}));\nexport var EVideoAccess;\n(function (EVideoAccess) {\n    EVideoAccess[\"private\"] = \"private\";\n    EVideoAccess[\"public\"] = \"public\";\n})(EVideoAccess || (EVideoAccess = {}));\nexport var EVideoAccessMode;\n(function (EVideoAccessMode) {\n    EVideoAccessMode[\"preserve\"] = \"preserve\";\n    EVideoAccessMode[\"constrain\"] = \"constrain\";\n    EVideoAccessMode[\"letterbox\"] = \"letterbox\";\n    EVideoAccessMode[\"pad\"] = \"pad\";\n    EVideoAccessMode[\"crop\"] = \"crop\";\n})(EVideoAccessMode || (EVideoAccessMode = {}));\n/**\n * Creates filestack transform url.\n * Transform params can be provided in camelCase or snakeCase style\n *\n * @example\n * ```js\n * // camelCase\n * console.log(transform(session, {\n *    partialPixelate: {\n *      objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n *    },\n *  }, 'testfile'));\n * ```\n * result => https://cdn.filestackcontent.com/partial_pixelate=objects:[[10,20,200,250],[275,91,500,557]]/testfile\n *\n * ```js\n * // snake_case\n * console.log(transform(session, {\n *    partial_pixelate: {\n *      objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n *    },\n *  }, 'testfile'));\n * ```\n * result => https://cdn.filestackcontent.com/partial_pixelate=objects:[[10,20,200,250],[275,91,500,557]]/testfile\n *\n * Client.transform is deprecated. Use Filelink class instead\n *\n * @private\n * @throws Error\n * @param options Transformation options\n * @param url url, handle or array of elements\n */\nexport var transform = function (session, url, options, b64) {\n    if (options === void 0) { options = {}; }\n    if (b64 === void 0) { b64 = false; }\n    options = toSnakeCase(options);\n    if (session.policy && session.signature) {\n        options.security = {\n            policy: session.policy,\n            signature: session.signature,\n        };\n    }\n    var filelink = new Filelink(url, session.apikey);\n    filelink.setCname(session.cname);\n    filelink.setBase64(b64);\n    Object.keys(options).forEach(function (key) {\n        if (typeof options[key] === 'boolean' && !options[key] && key !== 'cache') {\n            return;\n        }\n        filelink.addTask(key, options[key]);\n    });\n    return filelink.toString();\n};\n","import * as tslib_1 from \"tslib\";\n/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { md5, sanitizeName } from './../../utils';\n/**\n * File representation to unify file object in nodejs and browser\n *\n * @export\n * @class File\n */\nvar File = /** @class */ (function () {\n    function File(_file, _sanitizeOptions) {\n        this._file = _file;\n        this._sanitizeOptions = _sanitizeOptions;\n        this._file.name = sanitizeName(this._file.name, this._sanitizeOptions);\n    }\n    Object.defineProperty(File.prototype, \"name\", {\n        /**\n         * Returns file name\n         *\n         * @returns {string}\n         * @memberof File\n         */\n        get: function () {\n            return this._file.name;\n        },\n        /**\n         * Sets new file name  and cleanup extra chars\n         *\n         * @memberof File\n         */\n        set: function (val) {\n            this._file.name = sanitizeName(val, this._sanitizeOptions);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"filename\", {\n        /**\n         * Alias for name getter\n         *\n         * @readonly\n         * @type {string}\n         * @memberof File\n         */\n        get: function () {\n            return this.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"customName\", {\n        /**\n         * Sets custom name using string or function\n         * Name will be sanitized\n         *\n         * @memberof File\n         */\n        set: function (val) {\n            switch (typeof val) {\n                case 'string':\n                    this.name = val;\n                    break;\n                case 'function':\n                    var newName = val(this);\n                    if (typeof newName !== 'string') {\n                        throw new Error(\"Name function must return a string. Current return type is \" + typeof val);\n                    }\n                    this.name = val(this);\n                    break;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"type\", {\n        /**\n         * Returns file type\n         *\n         * @default 'application/octet-stream'\n         * @returns {string}\n         * @memberof File\n         */\n        get: function () {\n            /* istanbul ignore next */\n            return this._file.type || 'application/octet-stream';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"mimetype\", {\n        /**\n         * Alias for file type\n         *\n         * @readonly\n         * @type {string}\n         * @memberof File\n         */\n        get: function () {\n            return this.type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"buffer\", {\n        /**\n         * Returns file buffer\n         *\n         * @returns {(Buffer | ArrayBuffer)}\n         * @memberof File\n         */\n        get: function () {\n            return this._file.buffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"size\", {\n        /**\n         * Returns file size\n         *\n         * @returns {number}\n         * @memberof File\n         */\n        get: function () {\n            return this._file.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"md5\", {\n        /**\n         * Returns file md5 checksum\n         *\n         * @returns {string}\n         * @memberof File\n         */\n        get: function () {\n            if (!this._md5) {\n                // cache md5 file value\n                this._md5 = md5(this._file.buffer);\n            }\n            return this._md5;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns number of parts according to part size\n     *\n     * @param {number} size - part size in bytes\n     * @returns {number}\n     * @memberof File\n     */\n    File.prototype.getPartsCount = function (size) {\n        return Math.ceil(this._file.buffer.byteLength / size);\n    };\n    /**\n     * Returns part metadata\n     *\n     * @param {number} [partNum=0]\n     * @param {*} size\n     * @returns {FilePartMetadata}\n     * @memberof File\n     */\n    File.prototype.getPartMetadata = function (partNum, size) {\n        var startByte = size * partNum;\n        if (startByte > this._file.buffer.byteLength) {\n            throw new Error(\"Start byte of the part is higher than buffer size\");\n        }\n        var endByte = Math.min(startByte + size, this._file.buffer.byteLength);\n        return {\n            partNumber: partNum,\n            startByte: startByte,\n            endByte: endByte,\n            size: endByte - startByte,\n        };\n    };\n    /**\n     * Returns part metadata + buffer\n     *\n     * @param {FilePartMetadata} meta\n     * @returns {FilePart}\n     * @memberof File\n     */\n    File.prototype.getPartByMetadata = function (meta) {\n        var slice = this._file.buffer.slice(meta.startByte, meta.endByte);\n        return tslib_1.__assign({}, meta, { buffer: slice, md5: md5(slice) });\n    };\n    /**\n     * Returns part chunk\n     *\n     * @param {FilePartMetadata} meta\n     * @param {number} offset\n     * @param {number} chunkSize\n     * @returns {FilePart}\n     * @memberof File\n     */\n    File.prototype.getChunkByMetadata = function (meta, offset, chunkSize) {\n        var startByte = meta.startByte + offset;\n        var endByte = Math.min(startByte + chunkSize, meta.endByte);\n        var slice = this._file.buffer.slice(startByte, endByte);\n        return tslib_1.__assign({}, meta, { buffer: slice, md5: md5(slice), size: slice.byteLength, startByte: startByte,\n            endByte: endByte,\n            offset: offset });\n    };\n    /**\n     * Cleanup file buffer to release memory\n     *\n     * @memberof File\n     */\n    File.prototype.release = function () {\n        delete this._file.buffer;\n    };\n    File.prototype.toJSON = function () {\n        return {\n            name: this.name,\n            status: this.status,\n            type: this.type,\n            size: this.size,\n            url: this.url,\n            handle: this.handle,\n        };\n    };\n    return File;\n}());\nexport { File };\n","/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { File as FsFile } from './file';\nimport { isNode, requireNode, getMimetype } from './../../utils';\nimport { FilestackError } from './../../../filestack_error';\nvar base64Regexp = /data:([a-zA-Z]*\\/[a-zA-Z]*);base64,([^\\\"]*)/i;\n/**\n * Check if file is buffer\n *\n * @node\n * @param input\n */\nvar isFileBuffer = function (input) { return Buffer.isBuffer(input); };\n/**\n * Check if file is blob\n * @param input\n */\nvar isFileBlob = function (input) { return input.toString() === '[object Blob]'; };\n/**\n * Check if input is instance of browser file\n *\n * @browser\n * @param input\n */\nvar isFileBrowser = function (input) { return input instanceof File; };\n/**\n * Check if file is base64 string\n *\n * @param input\n */\nvar isFileBase = function (input) {\n    if (typeof input !== 'string') {\n        return false;\n    }\n    if (input.indexOf('base64') > -1) {\n        input = input.match(base64Regexp).pop();\n    }\n    if (isNode()) {\n        if (Buffer.from(input, 'base64').toString('base64') === input) {\n            return true;\n        }\n        return false;\n    }\n    try {\n        return btoa(atob(input)) === input;\n    }\n    catch (err) {\n        /* istanbul ignore next */\n        return false;\n    }\n};\n/**\n * Check if file is instance of named interface\n *\n * @param input\n */\nvar isFileNamed = function (input) { return input && input['file'] && input['name']; };\n/**\n * Check if input is a valid file path\n *\n * @node\n * @param input\n */\nvar isFilePath = function (input) { return requireNode('fs').existsSync(input); };\n/**\n * Convert encoded base64 string or dataURI to blob\n *\n * @browser\n * @param b64data     String to decode\n * @param sliceSize   Byte quantity to split data into\n * @private\n * @returns {Blob}\n */\nvar b64toBlob = function (b64Data, sliceSize) {\n    if (sliceSize === void 0) { sliceSize = 512; }\n    var contentType = '';\n    if (b64Data.indexOf('base64') > -1) {\n        var matches = b64Data.match(base64Regexp);\n        b64Data = matches.pop();\n        contentType = matches[1];\n    }\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\n        var byteNumbers = new Array(slice.length);\n        for (var i = 0; i < slice.length; i += 1) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n        byteArrays.push(new Uint8Array(byteNumbers));\n    }\n    return new Blob(byteArrays, { type: contentType });\n};\n/**\n * Read file as array buffer\n *\n * @browser\n * @private\n * @param blob\n * @returns {Boolean}\n */\nvar readFile = function (file) {\n    return new Promise(function (resolve, reject) {\n        /* istanbul ignore next */\n        if (!File || !FileReader || !Blob) {\n            return reject(new FilestackError('The File APIs are not fully supported by your browser'));\n        }\n        var reader = new FileReader();\n        reader.onloadend = function () { return resolve(reader.result); };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(file);\n    });\n};\n// =================== BROWSER UTILS ===================\n/**\n * Accepts b64string or blob file\n *\n * @browser\n * @param {*} fileOrString\n * @returns {Promise<File>}\n */\nvar getFileBrowser = function (input, sanitizeOptions) {\n    var filename;\n    var file;\n    if (isFileNamed(input)) {\n        filename = input.name;\n        input = input.file;\n    }\n    if (isFileBrowser(input)) {\n        file = input;\n        filename = input.name;\n    }\n    else if (isFileBase(input)) {\n        file = b64toBlob(input);\n    }\n    else if (isFileBlob(input)) {\n        file = input;\n    }\n    else {\n        return Promise.reject(new FilestackError('Unsupported input file type'));\n    }\n    return readFile(file).then(function (buffer) {\n        return new FsFile({\n            buffer: buffer,\n            name: filename,\n            size: buffer.byteLength,\n            type: file.type || getMimetype(new Uint8Array(buffer)),\n        }, sanitizeOptions);\n    });\n};\n// =================== NODE UTILS ===================\n/**\n * Accepts Buffer or filepath or base64 string\n *\n * @node\n * @param {*} inputFile\n * @returns {Promise<File>}\n */\nvar getFileNode = function (input, sanitizeOptions) {\n    var filename;\n    if (isFileNamed(input)) {\n        filename = input.name;\n        input = input.file;\n    }\n    if (isFilePath(input)) {\n        var path_1 = input;\n        return new Promise(function (resolve, reject) {\n            return requireNode('fs').readFile(path_1, function (err, buffer) {\n                if (err) {\n                    return reject(err);\n                }\n                return resolve(new FsFile({\n                    buffer: buffer,\n                    name: filename || requireNode('path').basename(path_1),\n                    size: buffer.byteLength,\n                    type: getMimetype(buffer),\n                }, sanitizeOptions));\n            });\n        });\n    }\n    if (isFileBase(input)) {\n        input = Buffer.from(input, 'base64');\n    }\n    if (isFileBuffer(input)) {\n        return Promise.resolve(new FsFile({\n            buffer: input,\n            name: filename,\n            size: input.byteLength,\n            type: getMimetype(input),\n        }, sanitizeOptions));\n    }\n    return Promise.reject(new FilestackError('Unsupported input file type'));\n};\nexport var getFile = function (input, sanitizeOptions) { return (isNode() ? getFileNode(input, sanitizeOptions) : getFileBrowser(input, sanitizeOptions)); };\n","import * as tslib_1 from \"tslib\";\n/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Debug from 'debug';\nimport * as EventEmitter from 'eventemitter3';\nimport { isMobile } from './../../../utils';\nimport { FilestackError } from './../../../../filestack_error';\n// regular part size\nexport var DEFAULT_PART_SIZE = 6 * 1024 * 1024;\n// Minimum part size for upload by multipart\nexport var MIN_PART_SIZE = 5 * 1024 * 1024;\n// when mode is set to fallback or intelligent, this part size is required\nexport var INTELLIGENT_CHUNK_SIZE = 8 * 1024 * 1024;\n// Mobile Chunk size for ii\nexport var INTELLIGENT_MOBILE_CHUNK_SIZE = 1024 * 1024;\n// minimum intelligent chunk size\nexport var MIN_CHUNK_SIZE = 32 * 1024;\nexport var DEFAULT_STORE_LOCATION = 's3';\nvar debug = Debug('fs:upload:abstract');\nvar UploaderAbstract = /** @class */ (function (_super) {\n    tslib_1.__extends(UploaderAbstract, _super);\n    function UploaderAbstract(storeOptions, concurrency) {\n        if (concurrency === void 0) { concurrency = 3; }\n        var _this = _super.call(this) || this;\n        _this.storeOptions = storeOptions;\n        _this.concurrency = concurrency;\n        // Parts size options\n        _this.partSize = DEFAULT_PART_SIZE;\n        // chunk size for ii uploads\n        _this.intelligentChunkSize = isMobile() ? INTELLIGENT_MOBILE_CHUNK_SIZE : INTELLIGENT_CHUNK_SIZE;\n        _this.timeout = 30 * 1000;\n        _this.uploadMode = \"default\" /* DEFAULT */;\n        _this.isModeLocked = false; // if account does not support ii in fallback mode we should abort\n        return _this;\n    }\n    UploaderAbstract.prototype.setSecurity = function (security) {\n        debug('Set security %O', security);\n        this.security = security;\n    };\n    UploaderAbstract.prototype.setApikey = function (apikey) {\n        debug(\"Set apikey to \" + apikey);\n        this.apikey = apikey;\n    };\n    UploaderAbstract.prototype.setTimeout = function (timeout) {\n        debug(\"Set request timeout to \" + timeout);\n        this.timeout = timeout;\n    };\n    UploaderAbstract.prototype.setRetryConfig = function (cfg) {\n        this.retryConfig = cfg;\n    };\n    UploaderAbstract.prototype.setUrl = function (url) {\n        this.url = url;\n    };\n    /**\n     * Sets upload mode\n     *\n     * @param {UploadMode} mode\n     * @param {boolean} [lock=false]\n     * @returns\n     * @memberof MultipartUploader\n     */\n    UploaderAbstract.prototype.setUploadMode = function (mode, lock) {\n        if (lock === void 0) { lock = false; }\n        // this shouldnt happend but for safety reasons if will stay\n        /* istanbul ignore next */\n        if (this.isModeLocked === true) {\n            debug(\"Cannot switch mode to \" + mode + \". Locked! Probably mode is not supported at this apikey\");\n            return;\n        }\n        this.isModeLocked = lock;\n        debug(\"Set upload mode to \" + mode);\n        this.uploadMode = mode;\n    };\n    /**\n     * Set upload part size\n     * if part size is smaller than minimum 5mb it will throw error\n     *\n     * @param {number} size\n     * @returns {void}\n     * @memberof S3Uploader\n     */\n    UploaderAbstract.prototype.setPartSize = function (size) {\n        if (this.uploadMode !== \"default\" /* DEFAULT */) {\n            debug('Cannot set part size because upload mode is other than default. ');\n            return;\n        }\n        debug(\"Set part size to \" + size);\n        if (size < MIN_PART_SIZE) {\n            throw new FilestackError('Minimum part size is 5MB');\n        }\n        this.partSize = size;\n    };\n    /**\n     * Returns current part size\n     */\n    UploaderAbstract.prototype.getPartSize = function () {\n        return this.partSize;\n    };\n    /**\n     * Set start part size for ii\n     *\n     * @param {number} size\n     * @memberof S3Uploader\n     */\n    UploaderAbstract.prototype.setIntelligentChunkSize = function (size) {\n        debug(\"Set inteligent chunk size to \" + size);\n        if (size < MIN_CHUNK_SIZE) {\n            throw new FilestackError(\"Minimum intelligent chunk size is \" + MIN_CHUNK_SIZE);\n        }\n        this.intelligentChunkSize = size;\n    };\n    /**\n     * Returns intelligent chunk size\n     */\n    UploaderAbstract.prototype.getIntelligentChunkSize = function () {\n        return this.intelligentChunkSize;\n    };\n    /**\n     * Returns filestack upload url\n     *\n     * @private\n     * @returns\n     * @memberof MultipartUploader\n     */\n    UploaderAbstract.prototype.getUrl = function () {\n        if (!this.url) {\n            throw new FilestackError('Upload url not set');\n        }\n        return this.url;\n    };\n    return UploaderAbstract;\n}(EventEmitter));\nexport { UploaderAbstract };\n","/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport PQueue from 'p-queue';\nimport Debug from 'debug';\nimport { postWithRetry, request, useRetryPolicy, shouldRetry } from './../../request';\nimport { uniqueTime, uniqueId, filterObject } from './../../../utils';\nimport { UploaderAbstract, INTELLIGENT_CHUNK_SIZE, MIN_CHUNK_SIZE, DEFAULT_STORE_LOCATION } from './abstract';\nimport { FilestackError, FilestackErrorType } from './../../../../filestack_error';\nvar debug = Debug('fs:upload:s3');\nvar COMPLETE_TIMEOUT = 1000 * 1;\nvar S3Uploader = /** @class */ (function (_super) {\n    tslib_1.__extends(S3Uploader, _super);\n    function S3Uploader(storeOptions, concurrency) {\n        var _this = _super.call(this, storeOptions, concurrency) || this;\n        _this.payloads = {};\n        _this.partsQueue = new PQueue({\n            autoStart: false,\n            concurrency: _this.concurrency,\n        });\n        // setup cancel token\n        var CancelToken = request.CancelToken;\n        _this.cancelToken = CancelToken.source();\n        return _this;\n    }\n    /**\n     * Pause upload queue\n     *\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.pause = function () {\n        this.partsQueue.pause();\n    };\n    /**\n     * resume upload queue if its paused\n     *\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.resume = function () {\n        /* istanbul ignore next */\n        if (this.partsQueue.isPaused) {\n            this.partsQueue.start();\n        }\n    };\n    /**\n     * Aborts queue (all pending requests with will be aborted)\n     *\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.abort = function (msg) {\n        this.cancelToken.cancel(msg || 'Aborted by user');\n        this.partsQueue.clear();\n    };\n    /**\n     * Execute all queued files\n     *\n     * @returns {Promise<any>}\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.execute = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var tasks;\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                tasks = Object.keys(this.payloads).map(function (id) {\n                    return new Promise(function (resolve) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                        var e_1, file;\n                        return tslib_1.__generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    _a.trys.push([0, 5, , 6]);\n                                    return [4 /*yield*/, this.startRequest(id)];\n                                case 1:\n                                    _a.sent();\n                                    return [4 /*yield*/, this.prepareParts(id)];\n                                case 2:\n                                    _a.sent();\n                                    return [4 /*yield*/, this.startPartsQueue(id)];\n                                case 3:\n                                    _a.sent();\n                                    return [4 /*yield*/, this.completeRequest(id)];\n                                case 4:\n                                    _a.sent();\n                                    return [3 /*break*/, 6];\n                                case 5:\n                                    e_1 = _a.sent();\n                                    /* istanbul ignore next */\n                                    this.emit('error', e_1);\n                                    debug(\"[\" + id + \"] File upload failed. %O, \\nDetails: %O \", e_1.message, e_1.details);\n                                    return [3 /*break*/, 6];\n                                case 6:\n                                    file = this.getPayloadById(id).file;\n                                    // release file buffer\n                                    file.release();\n                                    // cleanup payloads\n                                    delete this.payloads[id];\n                                    resolve(file);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); });\n                });\n                return [2 /*return*/, Promise.all(tasks).then(function (res) {\n                        // prevent cancel token memory leak\n                        try {\n                            _this.cancelToken.cancel();\n                        }\n                        catch (e) {\n                            /* istanbul ignore next */\n                            debug(\"Cannot cleanup cancel token %O\", e.message);\n                        }\n                        return res;\n                    })];\n            });\n        });\n    };\n    /**\n     * Add file to upload queue\n     *\n     * @param {File} file\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.addFile = function (file) {\n        debug('Add file to queue: \\n %o', file);\n        var id = uniqueId(15) + \"_\" + uniqueTime();\n        file.status = \"Initialized\" /* INIT */;\n        // split file into parts and set it as waiting\n        this.payloads[id] = {\n            file: file,\n            parts: [],\n        };\n        return id;\n    };\n    /**\n     * Returns host for upload (region based)\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.getUploadUrl = function (id) {\n        var location_url = this.getDefaultFields(id, ['location_url']).location_url;\n        return location_url.indexOf('http') === 0 ? location_url : \"https://\" + location_url;\n    };\n    /**\n     * Returns formatted store options\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.getStoreOptions = function () {\n        return tslib_1.__assign({ location: DEFAULT_STORE_LOCATION }, this.storeOptions);\n    };\n    /**\n     * Returns all default fields for filestack requests\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.getDefaultFields = function (id, requiredFields, fiiFallback) {\n        if (fiiFallback === void 0) { fiiFallback = false; }\n        var payload = this.getPayloadById(id);\n        var fields = tslib_1.__assign({}, this.security, { apikey: this.apikey, uri: payload.uri, location_url: payload.location_url, upload_id: payload.upload_id, region: payload.region });\n        if (this.uploadMode === \"intelligent\" /* INTELLIGENT */ || (this.uploadMode === \"fallback\" /* FALLBACK */ && fiiFallback)) {\n            fields['fii'] = true;\n        }\n        return tslib_1.__assign({}, filterObject(fields, requiredFields), { store: this.getStoreOptions() });\n    };\n    /**\n     * Returns default headers needed for filestack request\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.getDefaultHeaders = function (id) {\n        var headers = {};\n        var file = this.getPayloadById(id);\n        if (file.location_region) {\n            headers['Filestack-Upload-Region'] = file.location_region;\n        }\n        return headers;\n    };\n    S3Uploader.prototype.getPayloadById = function (id) {\n        return this.payloads[id];\n    };\n    /**\n     * Split file onto parts for uploading with multipart mechanism and setup start\n     *\n     * @private\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.prepareParts = function (id) {\n        var file = this.getPayloadById(id).file;\n        // for intelligent or fallback mode we cant overwrite part size - requires 8MB\n        if ([\"intelligent\" /* INTELLIGENT */, \"fallback\" /* FALLBACK */].indexOf(this.uploadMode) > -1) {\n            this.partSize = INTELLIGENT_CHUNK_SIZE;\n        }\n        var partsCount = file.getPartsCount(this.partSize);\n        var parts = [];\n        for (var i = 0; i < partsCount; i++) {\n            parts[i] = tslib_1.__assign({}, file.getPartMetadata(i, this.partSize), { offset: 0 });\n        }\n        // split file into parts and set it as waiting\n        this.payloads[id].parts = parts;\n        return Promise.resolve();\n    };\n    /**\n     * Make start request for getting needed upload fields\n     *\n     * @private\n     * @returns {Promise<any>}\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.startRequest = function (id) {\n        var _this = this;\n        var payload = this.getPayloadById(id);\n        debug(\"[\" + id + \"] Make start request\");\n        return postWithRetry(this.getUrl() + \"/multipart/start\", tslib_1.__assign({ filename: payload.file.name, mimetype: payload.file.type, size: payload.file.size }, this.getDefaultFields(id, ['apikey', 'policy', 'signature', 'fii'], true)), {\n            timeout: this.timeout,\n            cancelToken: this.cancelToken.token,\n            headers: this.getDefaultHeaders(id),\n        }, this.retryConfig)\n            .then(function (_a) {\n            var data = _a.data;\n            if (!data || !data.location_url || !data.region || !data.upload_id || !data.uri) {\n                debug(\"[\" + id + \"] Incorrect start response: \\n%O\\n\", data);\n                _this.setPayloadStatus(id, \"Failed\" /* FAILED */);\n                return Promise.reject(new FilestackError('Incorrect start response', data, FilestackErrorType.REQUEST));\n            }\n            debug(\"[\" + id + \"] Assign payload data: \\n%O\\n\", data);\n            _this.updatePayload(id, data);\n            // ii is not enabled in backend switch back to default upload mode\n            if ([\"intelligent\" /* INTELLIGENT */, \"fallback\" /* FALLBACK */].indexOf(_this.uploadMode) > -1 && (!data.upload_type || data.upload_type !== 'intelligent_ingestion')) {\n                debug(\"[\" + id + \"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change\");\n                _this.setUploadMode(\"default\" /* DEFAULT */, true);\n            }\n            return data;\n        })\n            .catch(function (err) {\n            debug(\"[\" + id + \"] Start request error %O\", err);\n            _this.setPayloadStatus(id, \"Failed\" /* FAILED */);\n            return Promise.reject(new FilestackError('Cannot upload file', err.data, FilestackErrorType.REQUEST));\n        });\n    };\n    /**\n     * Enqueue file parts to upload\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.startPartsQueue = function (id) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var payload, parts, waitingLength;\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                payload = this.getPayloadById(id);\n                parts = payload.parts;\n                waitingLength = parts.length;\n                debug(\"[\" + id + \"] Create uploading queue from file. parts count - %d\", waitingLength);\n                parts.forEach(function (part) {\n                    return _this.partsQueue\n                        .add(function () { return _this.startPart(id, part.partNumber); })\n                        .catch(function (e) {\n                        _this.setPayloadStatus(id, \"Failed\" /* FAILED */);\n                        debug(\"[\" + id + \"] Failed to upload part %s\", e.message);\n                    });\n                });\n                debug(\"[\" + id + \"] All tasks for %s enqueued. Start processing main upload queue\", id);\n                this.partsQueue.start();\n                return [2 /*return*/, this.partsQueue.onIdle()];\n            });\n        });\n    };\n    /**\n     * Decide if upload should be made using ii or regular upload\n     * It allows change upload mode during upload queue\n     *\n     * @private\n     * @param {number} partNumber\n     * @returns {Promise<any>}\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.startPart = function (id, partNumber) {\n        debug(\"[\" + id + \"] Start processing part \" + partNumber + \" with mode \" + this.uploadMode);\n        var payload = this.getPayloadById(id);\n        payload.file.status = \"Progress\" /* PROGRESS */;\n        return (this.uploadMode !== \"intelligent\" /* INTELLIGENT */ ? this.uploadRegular : this.uploadIntelligent).apply(this, [id, partNumber]);\n    };\n    /**\n     * Returns part data needed for upload\n     *\n     * @private\n     * @param {string} id - id of a currently uploading file\n     * @param {FilePart} part\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.getS3PartMetadata = function (id, part, offset) {\n        var _this = this;\n        var url = this.getUploadUrl(id);\n        debug(\"[\" + id + \"] Get data for part \" + part.partNumber + \", url \" + url + \", Md5: \" + part.md5 + \", Size: \" + part.size);\n        return postWithRetry(url + \"/multipart/upload\", tslib_1.__assign({}, this.getDefaultFields(id, ['apikey', 'uri', 'region', 'signature', 'policy', 'upload_id', 'fii']), { \n            // method specific keys\n            part: part.partNumber + 1, md5: part.md5, size: part.size, offset: offset }), {\n            headers: this.getDefaultHeaders(id),\n            cancelToken: this.cancelToken.token,\n            timeout: this.timeout,\n        }, this.retryConfig).catch(function (err) {\n            _this.setPayloadStatus(id, \"Failed\" /* FAILED */);\n            return Promise.reject(new FilestackError('Cannot get part metadata', err.data, FilestackErrorType.REQUEST));\n        });\n    };\n    /**\n     * Regular multipart request to amazon\n     *\n     * @private\n     * @param {number} partNumber\n     * @returns {Promise<any>}\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.uploadRegular = function (id, partNumber) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var payload, partMetadata, part, _a, data, headers;\n            var _this = this;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        payload = this.getPayloadById(id);\n                        partMetadata = payload.parts[partNumber];\n                        part = payload.file.getPartByMetadata(partMetadata);\n                        return [4 /*yield*/, this.getS3PartMetadata(id, part)];\n                    case 1:\n                        _a = _b.sent(), data = _a.data, headers = _a.headers;\n                        debug(\"[\" + id + \"] Received part \" + partNumber + \" info body: \\n%O\\n headers: \\n%O\\n\", data, headers);\n                        // retry only in regular upload mode\n                        if (this.retryConfig && this.uploadMode !== \"fallback\" /* FALLBACK */) {\n                            useRetryPolicy(request, this.retryConfig);\n                        }\n                        return [2 /*return*/, request\n                                .put(data.url, part.buffer, {\n                                cancelToken: this.cancelToken.token,\n                                timeout: this.timeout,\n                                headers: data.headers,\n                                // for now we cant test progress callback from upload\n                                /* istanbul ignore next */\n                                onUploadProgress: function (pr) { return _this.onProgressUpdate(id, partNumber, pr.loaded); },\n                            })\n                                .then(function (res) {\n                                if (res.headers.etag) {\n                                    _this.setPartETag(id, partNumber, res.headers.etag);\n                                }\n                                debug(\"[\" + id + \"] S3 Upload response headers for \" + partNumber + \": \\n%O\\n\", res.headers);\n                                _this.onProgressUpdate(id, partNumber, part.size);\n                                return res;\n                            })\n                                .catch(function (err) {\n                                // reset upload progress on failed part\n                                _this.onProgressUpdate(id, partNumber, 0);\n                                // if fallback, set upload mode to intelligent and restart current part\n                                if ((_this.uploadMode === \"fallback\" /* FALLBACK */ && !_this.isModeLocked) || _this.uploadMode === \"intelligent\" /* INTELLIGENT */) {\n                                    debug(\"[\" + id + \"] Regular upload failed. Switching to intelligent ingestion mode\");\n                                    _this.setUploadMode(\"intelligent\" /* INTELLIGENT */);\n                                    // restart part\n                                    return _this.startPart(id, partNumber);\n                                }\n                                return Promise.reject(new FilestackError('Cannot upload file part', err.data, FilestackErrorType.REQUEST));\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Upload file using intelligent mechanism\n     *\n     * @private\n     * @param {string} id\n     * @param {number} partNumber\n     * @returns {Promise<any>}\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.uploadIntelligent = function (id, partNumber) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, this.uploadNextChunk(id, partNumber).then(function () { return _this.commitPart(id, partNumber); })];\n            });\n        });\n    };\n    /**\n     * Recursively upload file in chunk mode (intelligent ingession)\n     *\n     * @private\n     * @param {string} id\n     * @param {number} partNumber\n     * @param {number} chunkSize\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.uploadNextChunk = function (id, partNumber, chunkSize) {\n        if (chunkSize === void 0) { chunkSize = this.intelligentChunkSize; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var payload, part, chunk, data;\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        payload = this.getPayloadById(id);\n                        part = payload.parts[partNumber];\n                        chunkSize = Math.min(chunkSize, part.size - part.offset);\n                        chunk = payload.file.getChunkByMetadata(part, part.offset, chunkSize);\n                        debug(\"[\" + id + \"] PartNum: \" + partNumber + \", PartSize: \" + part.size + \", StartByte: \" + part.startByte + \", Offset: \" + part.offset + \", ChunkSize: \" + chunk.size + \",\\n       Left: \" + (part.size - part.offset - chunk.size));\n                        return [4 /*yield*/, this.getS3PartMetadata(id, chunk, part.offset).catch(function (err) {\n                                debug(\"[\" + id + \"] Getting chunk data for ii failed %O, Chunk size: \" + chunkSize + \", offset \" + part.offset + \", part \" + partNumber, err);\n                                return Promise.reject(err);\n                            })];\n                    case 1:\n                        data = (_a.sent()).data;\n                        return [2 /*return*/, request\n                                .put(data.url, chunk.buffer, {\n                                cancelToken: this.cancelToken.token,\n                                timeout: this.timeout,\n                                headers: data.headers,\n                                // for now we cant test progress callback from upload\n                                /* istanbul ignore next */\n                                onUploadProgress: function (pr) { return _this.onProgressUpdate(id, partNumber, part.offset + pr.loaded); },\n                            })\n                                .then(function (res) {\n                                _this.onProgressUpdate(id, partNumber, part.offset + chunk.size);\n                                var newOffset = Math.min(part.offset + chunkSize, part.size);\n                                debug(\"[\" + id + \"] S3 Chunk uploaded! offset: \" + part.offset + \", part \" + partNumber + \"! response headers for \" + partNumber + \": \\n%O\\n\", res.headers);\n                                _this.setPartData(id, partNumber, 'offset', newOffset);\n                                // if all chunks was uploaded then return resolve\n                                if (newOffset === part.size) {\n                                    return Promise.resolve(res);\n                                }\n                                return _this.uploadNextChunk(id, partNumber, chunkSize);\n                                part = null;\n                                chunk = null;\n                            })\n                                .catch(function (err) {\n                                // reset progress on failed upload\n                                _this.onProgressUpdate(id, partNumber, part.offset);\n                                var nextChunkSize = chunkSize / 2;\n                                if (nextChunkSize < MIN_CHUNK_SIZE) {\n                                    debug(\"[\" + id + \"] Minimal chunk size limit. Upload file failed!\");\n                                    return Promise.reject(new FilestackError('Min chunk size reached', err.data, FilestackErrorType.REQUEST));\n                                }\n                                if (shouldRetry(err)) {\n                                    debug(\"[\" + id + \"] Request network error. Retry with new chunk size: \" + nextChunkSize);\n                                    return _this.uploadNextChunk(id, partNumber, nextChunkSize);\n                                }\n                                return Promise.reject(new FilestackError('Cannot upload file part', err.data, FilestackErrorType.REQUEST));\n                                part = null;\n                                chunk = null;\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Commit after upload all chunks of the part in ii mode\n     *\n     * @private\n     * @param {string} id\n     * @param {FilePart} part\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.commitPart = function (id, partNumber) {\n        var payload = this.getPayloadById(id);\n        var part = payload.parts[partNumber];\n        return postWithRetry(this.getUploadUrl(id) + \"/multipart/commit\", tslib_1.__assign({}, this.getDefaultFields(id, ['apikey', 'region', 'upload_id', 'policy', 'signature', 'uri']), { size: payload.file.size, part: part.partNumber + 1 }), {\n            cancelToken: this.cancelToken.token,\n            timeout: this.timeout,\n            headers: this.getDefaultHeaders(id),\n        }, this.retryConfig).then(function (res) {\n            debug(\"[\" + id + \"] Commit Part number \" + part.partNumber + \". Response: %O\", res.data);\n            return res;\n        });\n    };\n    /**\n     * Complete request to merge all parts and get file handle etc\n     *\n     * @private\n     * @returns\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.completeRequest = function (id) {\n        var _this = this;\n        var payload = this.getPayloadById(id);\n        var parts = [];\n        if (payload.file.status === \"Failed\" /* FAILED */) {\n            return Promise.resolve();\n        }\n        debug(\"[\" + id + \"] Run complete request\");\n        var partsHandle = payload.parts;\n        var partLen = partsHandle.length;\n        for (var i = 0; i < partLen; i++) {\n            if (partsHandle[i].etag) {\n                parts.push({ part_number: i + 1, etag: partsHandle[i].etag });\n            }\n        }\n        debug(\"[\" + id + \"] Etags %O\", parts);\n        return postWithRetry(this.getUrl() + \"/multipart/complete\", tslib_1.__assign({}, this.getDefaultFields(id, ['apikey', 'policy', 'signature', 'uri', 'region', 'upload_id', 'fii'], true), { \n            // method specific keys\n            filename: payload.file.name, mimetype: payload.file.type, size: payload.file.size, parts: parts.length ? parts : undefined }), {\n            timeout: this.timeout,\n            cancelToken: this.cancelToken.token,\n            headers: this.getDefaultHeaders(id),\n        }, this.retryConfig)\n            .then(function (res) {\n            // if parts hasnt been merged, retry complete request again\n            if (res.status === 202) {\n                return new Promise(function (resolve, reject) {\n                    setTimeout(function () {\n                        return _this.completeRequest(id)\n                            .then(resolve)\n                            .catch(reject);\n                    }, COMPLETE_TIMEOUT);\n                });\n            }\n            // update file object\n            var file = _this.getPayloadById(id).file;\n            file.handle = res.data.handle;\n            file.url = res.data.url;\n            file.container = res.data.container;\n            file.key = res.data.key;\n            file.workflows = res.data.workflows;\n            file.status = res.data.status;\n            return file;\n        })\n            .catch(function (err) {\n            _this.setPayloadStatus(id, \"Failed\" /* FAILED */);\n            return Promise.reject(new FilestackError('Cannot complete file', err.data, FilestackErrorType.REQUEST));\n        });\n    };\n    /**\n     * UUpgrade upload progress and run progress event\n     *\n     * @private\n     * @param {string} id\n     * @param {number} partNumber\n     * @param {number} loaded\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.onProgressUpdate = function (id, partNumber, loaded) {\n        this.setPartData(id, partNumber, 'progress', loaded);\n        this.emitProgress();\n    };\n    /**\n     * Emits normalized progress event\n     *\n     * @private\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.emitProgress = function () {\n        var totalSize = 0;\n        var totalBytes = 0;\n        var filesProgress = {};\n        for (var i in this.payloads) {\n            var payload = this.payloads[i];\n            // omit all failed files in progress event\n            // this shouldn't happend because of promises rejection in execute. Left to be sure\n            /* istanbul ignore next */\n            if (payload.file.status === \"Failed\" /* FAILED */) {\n                continue;\n            }\n            var partsProgress = payload.parts.map(function (p) { return p.progress || 0; });\n            var totalParts = partsProgress.reduce(function (a, b) { return a + b; });\n            totalBytes = totalBytes + totalParts;\n            filesProgress[i] = {\n                totalBytes: totalParts || 0,\n                totalPercent: Math.round((totalParts * 100) / payload.file.size) || 0,\n            };\n            totalSize = totalSize + payload.file.size;\n        }\n        var res = {\n            totalBytes: totalBytes || 0,\n            totalPercent: Math.round((totalBytes * 100) / totalSize) || 0,\n            files: filesProgress,\n        };\n        debug(\"Upload progress %O\", res);\n        this.emit('progress', res);\n    };\n    /**\n     * Apply provided data to given payload\n     *\n     * @private\n     * @param {string} id\n     * @param {*} data\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.updatePayload = function (id, data) {\n        this.payloads[id] = tslib_1.__assign({}, this.payloads[id], data);\n    };\n    /**\n     * Sets etag for part\n     *\n     * @private\n     * @param {number} partNumber\n     * @param {string} etag\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.setPartETag = function (id, partNumber, etag) {\n        debug(\"[\" + id + \"] Set \" + etag + \" etag for part \" + partNumber);\n        this.getPayloadById(id).parts[partNumber].etag = etag;\n    };\n    /**\n     * Sets part value for a key\n     *\n     * @private\n     * @param {number} partNumber\n     * @param {string} etag\n     * @memberof S3Uploader\n     */\n    S3Uploader.prototype.setPartData = function (id, partNumber, key, value) {\n        debug(\"[\" + id + \"] Set \" + key + \" = \" + value + \" for part \" + partNumber);\n        var payload = this.getPayloadById(id);\n        /* istanbul ignore next */\n        if (!payload) {\n            debug(\"[\" + id + \"] Cannot set \" + key + \" = \" + value + \" for part \" + partNumber);\n            return;\n        }\n        payload.parts[partNumber][key] = value;\n    };\n    /**\n     * Set payload file state\n     *\n     * @param id\n     * @param status\n     */\n    S3Uploader.prototype.setPayloadStatus = function (id, status) {\n        debug(\"[\" + id + \"] Set payload status to \" + status);\n        this.payloads[id].file.status = status;\n    };\n    return S3Uploader;\n}(UploaderAbstract));\nexport { S3Uploader };\n","/*\n * Copyright (c) 2019 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as EventEmitter from 'eventemitter3';\nimport { S3Uploader } from './uploaders/s3';\nimport { FilestackError, FilestackErrorType } from './../../../filestack_error';\nimport { getFile } from './file_tools';\nimport { getValidator, UploadParamsSchema, StoreParamsSchema } from './../../../schema';\nvar DEFAULT_PROGRESS_INTERVAL = 1000;\nvar normalizeProgress = function (current, last) {\n    current.totalBytes = Math.max(current.totalBytes, last.totalBytes);\n    current.totalPercent = Math.max(current.totalPercent, last.totalPercent);\n    return current;\n};\n/**\n * Uploader main class for now its supporting only s3 upload type\n *\n * @export\n * @class Upload\n */\nvar Upload = /** @class */ (function (_super) {\n    tslib_1.__extends(Upload, _super);\n    function Upload(options, storeOptions) {\n        if (options === void 0) { options = {}; }\n        if (storeOptions === void 0) { storeOptions = {}; }\n        var _this = _super.call(this) || this;\n        _this.options = options;\n        _this.storeOptions = storeOptions;\n        _this.lastProgress = {\n            totalBytes: 0,\n            totalPercent: 0,\n        };\n        // do not delete filename from original options reference - copy it first\n        _this.storeOptions = Object.assign({}, storeOptions);\n        var validateRes = getValidator(UploadParamsSchema)(options);\n        if (validateRes.errors.length) {\n            throw new FilestackError(\"Invalid upload params\", validateRes.errors, FilestackErrorType.VALIDATION);\n        }\n        var storeValidateRes = getValidator(StoreParamsSchema)(storeOptions);\n        if (storeValidateRes.errors.length) {\n            throw new FilestackError(\"Invalid store upload params\", storeValidateRes.errors, FilestackErrorType.VALIDATION);\n        }\n        if (storeOptions.filename) {\n            _this.overwriteFileName = storeOptions.filename;\n            delete _this.storeOptions.filename;\n        }\n        if (_this.storeOptions.sanitizer) {\n            _this.sanitizerOptions = _this.storeOptions.sanitizer;\n            delete _this.storeOptions.sanitizer;\n        }\n        _this.uploader = new S3Uploader(_this.storeOptions, options.concurrency);\n        _this.uploader.setRetryConfig({\n            retry: options.retry || 10,\n            onRetry: options.onRetry,\n            retryFactor: options.retryFactor || 2,\n            retryMaxTime: options.retryMaxTime || 15000,\n        });\n        _this.uploader.setTimeout(options.timeout || 120000);\n        if (options.partSize) {\n            _this.uploader.setPartSize(options.partSize);\n        }\n        if (options.intelligentChunkSize) {\n            _this.uploader.setIntelligentChunkSize(options.intelligentChunkSize);\n        }\n        if (options.intelligent) {\n            _this.uploader.setUploadMode(options.intelligent === 'fallback' ? \"fallback\" /* FALLBACK */ : \"intelligent\" /* INTELLIGENT */);\n        }\n        _this.uploader.on('error', function (e) { return _this.emit('error', e); });\n        _this.uploader.on('progress', _this.handleProgress.bind(_this));\n        return _this;\n    }\n    /**\n     * Set session object to uploader\n     *\n     * @deprecated\n     * @param {Session} session\n     * @memberof Upload\n     */\n    Upload.prototype.setSession = function (session) {\n        this.uploader.setApikey(session.apikey);\n        if (session.policy && session.signature) {\n            this.uploader.setSecurity({\n                policy: session.policy,\n                signature: session.signature,\n            });\n        }\n        this.uploader.setUrl(session.urls.uploadApiUrl);\n    };\n    /**\n     * Set cancel token to controll upload flow\n     *\n     * @param {*} token\n     * @returns\n     * @memberof Upload\n     */\n    Upload.prototype.setToken = function (token) {\n        var _this = this;\n        if (!token || token !== Object(token)) {\n            throw new Error('Incorrect upload token. Must be instance of object');\n        }\n        token.pause = function () { return _this.uploader.pause(); };\n        token.resume = function () { return _this.uploader.resume(); };\n        token.cancel = function () { return _this.uploader.abort(); };\n        return token;\n    };\n    /**\n     * Sets security to uploader instance\n     *\n     * @param {Security} security\n     * @memberof Upload\n     */\n    Upload.prototype.setSecurity = function (security) {\n        this.uploader.setSecurity(security);\n    };\n    /**\n     * Upload single file\n     *\n     * @param {(InputFile)} file\n     * @returns {Promise<any>}\n     * @memberof Upload\n     */\n    Upload.prototype.upload = function (input) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var f, res;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, getFile(input, this.sanitizerOptions)];\n                    case 1:\n                        f = _a.sent();\n                        f.customName = this.overwriteFileName;\n                        this.uploader.addFile(f);\n                        this.startProgressInterval();\n                        return [4 /*yield*/, this.uploader.execute()];\n                    case 2:\n                        res = (_a.sent()).shift();\n                        this.stopProgressInterval();\n                        this.uploader.removeAllListeners();\n                        if (res.status === \"Failed\" /* FAILED */) {\n                            return [2 /*return*/, Promise.reject(res)];\n                        }\n                        return [2 /*return*/, Promise.resolve(res)];\n                }\n            });\n        });\n    };\n    /**\n     * Upload multiple files at once\n     *\n     * @param {(InputFile[])} input\n     * @returns {Promise<any>}\n     * @memberof Upload\n     */\n    Upload.prototype.multiupload = function (input) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, _b, _i, i, f, res;\n            return tslib_1.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = [];\n                        for (_b in input)\n                            _a.push(_b);\n                        _i = 0;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3 /*break*/, 4];\n                        i = _a[_i];\n                        /* istanbul ignore next */\n                        if (!input.hasOwnProperty(i)) {\n                            return [3 /*break*/, 3];\n                        }\n                        return [4 /*yield*/, getFile(input[i], this.sanitizerOptions)];\n                    case 2:\n                        f = _c.sent();\n                        f.customName = this.overwriteFileName;\n                        this.uploader.addFile(f);\n                        _c.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4:\n                        this.startProgressInterval();\n                        return [4 /*yield*/, this.uploader.execute()];\n                    case 5:\n                        res = _c.sent();\n                        this.stopProgressInterval();\n                        return [2 /*return*/, Promise.resolve(res)];\n                }\n            });\n        });\n    };\n    /**\n     * RUn progress with userdefined interval\n     *\n     * @private\n     * @returns\n     * @memberof Upload\n     */\n    Upload.prototype.startProgressInterval = function () {\n        var _this = this;\n        if (typeof this.options.onProgress !== 'function') {\n            return;\n        }\n        this.progressIntervalHandler = setInterval(function () {\n            _this.options.onProgress(_this.lastProgress);\n        }, this.options.progressInterval || DEFAULT_PROGRESS_INTERVAL);\n        this.options.onProgress(this.lastProgress);\n    };\n    /**\n     * Stop progress interval after upload\n     *\n     * @private\n     * @memberof Upload\n     */\n    Upload.prototype.stopProgressInterval = function () {\n        clearInterval(this.progressIntervalHandler);\n    };\n    /**\n     * Handle upload interval and normalize values\n     *\n     * @private\n     * @param {ProgressEvent} progress\n     * @memberof Upload\n     */\n    Upload.prototype.handleProgress = function (progress) {\n        // get max progress data to avoid progress jumps on any part error\n        progress = normalizeProgress(progress, this.lastProgress);\n        if (this.lastProgress.files) {\n            for (var i in progress.files) {\n                if (this.lastProgress.files[i]) {\n                    progress.files[i] = normalizeProgress(progress.files[i], this.lastProgress.files[i]);\n                }\n            }\n        }\n        this.lastProgress = progress;\n    };\n    return Upload;\n}(EventEmitter));\nexport { Upload };\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { removeEmpty } from '../utils';\nimport { getValidator, PreviewParamsSchema } from './../../schema';\nimport { FilestackError, FilestackErrorType } from './../../filestack_error';\n/**\n * Returns file preview url\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n * @param security\n */\nexport var getUrl = function (session, handle, opts, security) {\n    var options = tslib_1.__assign({}, opts);\n    var policy = security && security.policy || session.policy;\n    var signature = security && security.signature || session.signature;\n    var hasSecurity = signature && policy;\n    var baseUrl = [session.urls.cdnUrl];\n    var css = options.css && encodeURIComponent(\"\\\"\" + options.css + \"\\\"\");\n    var previewTask = css ? \"preview=css:\" + css : 'preview';\n    // @todo move to utils?\n    if (handle.indexOf('src:') !== -1) {\n        baseUrl.push(session.apikey + \"/\" + previewTask);\n    }\n    else {\n        baseUrl.push(previewTask);\n    }\n    if (hasSecurity) {\n        baseUrl.push(\"security=policy:\" + policy + \",signature:\" + signature);\n    }\n    baseUrl.push(handle);\n    return baseUrl.join('/');\n};\n/**\n * Appends image preview into page\n *\n * @private\n * @param session\n * @param handle\n * @param opts\n */\nexport var preview = function (session, handle, opts) {\n    if (!handle || typeof handle !== 'string') {\n        throw new Error('A valid Filestack handle or storage alias is required for preview');\n    }\n    var validateRes = getValidator(PreviewParamsSchema)(opts);\n    if (validateRes.errors.length) {\n        throw new FilestackError(\"Invalid preview params\", validateRes.errors, FilestackErrorType.VALIDATION);\n    }\n    var options = removeEmpty(opts || {});\n    var url = getUrl(session, handle, options);\n    if (options && options.id) {\n        var id = options.id;\n        var iframe = document.createElement('iframe');\n        var domElement = document.getElementById(id);\n        iframe.src = url;\n        iframe.width = '100%';\n        iframe.height = '100%';\n        if (!domElement) {\n            throw new Error(\"DOM Element with id \\\"\" + id + \"\\\" not found.\");\n        }\n        return domElement.appendChild(iframe);\n    }\n    return window.open(url, handle);\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { removeEmpty } from '../utils';\nimport { requestWithSource, request } from '../api/request';\nimport { FilestackError } from './../../filestack_error';\n/**\n * @private\n */\nexport var PICKER_KEY = '__fs_picker_token';\n/**\n * @private\n */\nvar CloudClient = /** @class */ (function () {\n    function CloudClient(session, options) {\n        this.cache = false;\n        this.session = session;\n        this.cloudApiUrl = session.urls.cloudApiUrl;\n        if (options && options.sessionCache) {\n            this.cache = options.sessionCache;\n        }\n    }\n    Object.defineProperty(CloudClient.prototype, \"token\", {\n        get: function () {\n            if (this.cache) {\n                var token = localStorage.getItem(PICKER_KEY);\n                if (token)\n                    return token;\n            }\n            return this._token;\n        },\n        set: function (key) {\n            if (this.cache) {\n                localStorage.setItem(PICKER_KEY, key);\n            }\n            this._token = key;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CloudClient.prototype.prefetch = function () {\n        var params = {\n            apikey: this.session.apikey,\n        };\n        return requestWithSource()\n            .get(this.cloudApiUrl + \"/prefetch\", { params: params })\n            .then(function (res) { return res.data; });\n    };\n    CloudClient.prototype.list = function (clouds, token) {\n        var _this = this;\n        var payload = {\n            apikey: this.session.apikey,\n            clouds: clouds,\n            flow: 'web',\n            token: this.token,\n        };\n        if (this.session.policy && this.session.signature) {\n            payload.policy = this.session.policy;\n            payload.signature = this.session.signature;\n        }\n        var options = {};\n        if (token) {\n            var CancelToken = request.CancelToken;\n            var source = CancelToken.source();\n            token.cancel = source.cancel;\n            options.cancelToken = source.token;\n        }\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/folder/list\", payload, options)\n            .then(function (res) {\n            if (res.data && res.data.token) {\n                _this.token = res.data.token;\n            }\n            return res.data;\n        });\n    };\n    CloudClient.prototype.store = function (name, path, options, customSource, token) {\n        var _this = this;\n        var _a;\n        if (options === void 0) { options = {}; }\n        if (customSource === void 0) { customSource = {}; }\n        // Default to S3\n        if (options.location === undefined)\n            options.location = 's3';\n        var payload = {\n            apikey: this.session.apikey,\n            token: this.token,\n            flow: 'web',\n            clouds: (_a = {},\n                _a[name] = {\n                    path: path,\n                    store: removeEmpty(options),\n                },\n                _a),\n        };\n        if (name === 'customsource' && customSource.customSourcePath) {\n            payload.clouds.customsource.customSourcePath = customSource.customSourcePath;\n        }\n        if (name === 'customsource' && customSource.customSourceContainer) {\n            payload.clouds.customsource.customSourceContainer = customSource.customSourceContainer;\n        }\n        if (this.session.policy && this.session.signature) {\n            payload.policy = this.session.policy;\n            payload.signature = this.session.signature;\n        }\n        var requestOptions = {};\n        if (token) {\n            var CancelToken = request.CancelToken;\n            var source = CancelToken.source();\n            token.cancel = source.cancel;\n            requestOptions.cancelToken = source.token;\n        }\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/store/\", payload, requestOptions)\n            .then(function (res) {\n            if (res.data && res.data.token) {\n                _this.token = res.data.token;\n            }\n            if (res.data && res.data[name]) {\n                return res.data[name];\n            }\n            return res.data;\n        });\n    };\n    CloudClient.prototype.logout = function (name) {\n        var _a;\n        var payload = {\n            apikey: this.session.apikey,\n            flow: 'web',\n            token: this.token,\n        };\n        if (name) {\n            payload.clouds = (_a = {}, _a[name] = {}, _a);\n        }\n        else if (this.cache) {\n            // No name means logout of ALL clouds. Clear local session.\n            localStorage.removeItem(PICKER_KEY);\n        }\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/auth/logout\", payload)\n            .then(function (res) {\n            if (res.data && res.data[name]) {\n                return res.data[name];\n            }\n            return res.data;\n        });\n    };\n    CloudClient.prototype.metadata = function (url) {\n        var payload = {\n            apikey: this.session.apikey,\n            url: url,\n        };\n        if (this.session.policy && this.session.signature) {\n            payload.policy = this.session.policy;\n            payload.signature = this.session.signature;\n        }\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/metadata\", payload)\n            .then(function (res) { return res.data; });\n    };\n    // OpenTok API Endpoints\n    CloudClient.prototype.tokInit = function (type) {\n        if (type !== 'video' && type !== 'audio') {\n            throw new FilestackError('Type must be one of video or audio.');\n        }\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/recording/\" + type + \"/init\").then(function (res) { return res.data; });\n    };\n    CloudClient.prototype.tokStart = function (type, key, sessionId) {\n        if (type !== 'video' && type !== 'audio') {\n            throw new FilestackError('Type must be one of video or audio.');\n        }\n        var payload = {\n            apikey: key,\n            session_id: sessionId,\n        };\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/recording/\" + type + \"/start\", payload)\n            .then(function (res) { return res.data; });\n    };\n    CloudClient.prototype.tokStop = function (type, key, sessionId, archiveId) {\n        if (type !== 'video' && type !== 'audio') {\n            throw new FilestackError('Type must be one of video or audio.');\n        }\n        var payload = {\n            apikey: key,\n            session_id: sessionId,\n            archive_id: archiveId,\n        };\n        return requestWithSource()\n            .post(this.cloudApiUrl + \"/recording/\" + type + \"/stop\", payload)\n            .then(function (res) { return res.data; });\n    };\n    return CloudClient;\n}());\nexport { CloudClient };\n","// -----------------------------------------------------------------------------\n// Init\n\nconst initializeGlobalNamespace = () => {\n  let namespace;\n  if (typeof window === 'object') {\n    namespace = window.filestackInternals;\n    if (!namespace) {\n      namespace = {};\n      window.filestackInternals = namespace;\n    }\n    if (!namespace.loader) {\n      namespace.loader = {\n        modules: {},\n      };\n    }\n  }\n  return namespace;\n};\n\nconst filestackInternals = initializeGlobalNamespace();\n\n// -----------------------------------------------------------------------------\n// Modules loading\n\n// All modules share global \"register\", so different instances of loader can\n// communicate which modules were already loaded and which not.\nconst modules = filestackInternals && filestackInternals.loader.modules;\n\nexport const loadModule = (url, moduleId) => {\n  let moduleDefinition = modules[url];\n  if (!moduleDefinition) {\n    modules[url] = {};\n    moduleDefinition = modules[url];\n  }\n\n  if (moduleDefinition.instance) {\n    return Promise.resolve(moduleDefinition.instance);\n  }\n\n  if (moduleDefinition.promise) {\n    return moduleDefinition.promise;\n  }\n\n  const promise = new Promise((resolve, reject) => {\n    const embedScript = () => {\n      moduleDefinition.resolvePromise = resolve;\n      const script = document.createElement('script');\n      script.src = url;\n      script.onerror = reject;\n      if (moduleId) script.id = moduleId;\n      document.body.appendChild(script);\n    };\n\n    const checkIfDomReady = () => {\n      if (document.readyState === 'complete') {\n        embedScript();\n      } else {\n        setTimeout(checkIfDomReady, 50);\n      }\n    };\n\n    checkIfDomReady();\n  });\n\n  moduleDefinition.promise = promise;\n\n  return promise;\n};\n\nexport const registerReadyModule = (instance, moduleId) => {\n  let thisScript;\n  if (moduleId && document.getElementById(moduleId)) {\n    thisScript = document.getElementById(moduleId);\n  } else {\n    const scriptTags = document.getElementsByTagName('script');\n    thisScript = scriptTags[scriptTags.length - 1];\n  }\n  const url = thisScript.getAttribute('src');\n  const moduleDefinition = modules[url];\n  if (moduleDefinition && moduleDefinition.resolvePromise) {\n    moduleDefinition.instance = instance;\n    moduleDefinition.resolvePromise(instance);\n    delete moduleDefinition.promise;\n    delete moduleDefinition.resolvePromise;\n  }\n};\n\n// -----------------------------------------------------------------------------\n// CSS loading\n\nexport const loadCss = (url) => {\n  const alreadyAddedThisTag = document.querySelector(`link[href=\"${url}\"]`);\n  if (alreadyAddedThisTag !== null) {\n    return Promise.resolve();\n  }\n\n  return new Promise((resolve) => {\n    const head = document.getElementsByTagName('head')[0];\n    const link = document.createElement('link');\n\n    const loaded = () => {\n      resolve();\n      link.removeEventListener('load', loaded);\n    };\n\n    link.rel = 'stylesheet';\n    link.href = url;\n    link.addEventListener('load', loaded);\n    head.appendChild(link);\n  });\n};\n\nexport const knownModuleIds = {\n  picker: '__filestack-picker-module',\n};\n","/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { loadModule, knownModuleIds } from 'filestack-loader';\nimport { FilestackError, FilestackErrorType } from './../filestack_error';\nimport { getValidator, PickerParamsSchema } from './../schema';\nexport var RotateDirection;\n(function (RotateDirection) {\n    RotateDirection[\"cw\"] = \"CW\";\n    RotateDirection[\"ccw\"] = \"CCW\";\n})(RotateDirection || (RotateDirection = {}));\nexport var PickerDisplayMode;\n(function (PickerDisplayMode) {\n    PickerDisplayMode[\"inline\"] = \"inline\";\n    PickerDisplayMode[\"overlay\"] = \"overlay\";\n    PickerDisplayMode[\"dropPane\"] = \"dropPane\";\n})(PickerDisplayMode || (PickerDisplayMode = {}));\n/**\n * @private\n * A synchronous-looking wrapper for loading the picker and calling its methods.\n * This is currently needed because the picker module is loaded asynchronously.\n * Eventually we should offer a bundle with the picker module included.\n */\nvar PickerLoader = /** @class */ (function () {\n    function PickerLoader(client, options) {\n        var validateRes = getValidator(PickerParamsSchema)(options);\n        if (validateRes.errors.length) {\n            throw new FilestackError(\"Invalid picker params\", validateRes.errors, FilestackErrorType.VALIDATION);\n        }\n        this._initialized = this.loadModule(client, options);\n    }\n    PickerLoader.prototype.open = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var picker;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._initialized];\n                    case 1:\n                        picker = _a.sent();\n                        return [4 /*yield*/, picker.open()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PickerLoader.prototype.crop = function (files) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var picker;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._initialized];\n                    case 1:\n                        picker = _a.sent();\n                        return [4 /*yield*/, picker.crop(files)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PickerLoader.prototype.close = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var picker;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._initialized];\n                    case 1:\n                        picker = _a.sent();\n                        return [4 /*yield*/, picker.close()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PickerLoader.prototype.cancel = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var picker;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._initialized];\n                    case 1:\n                        picker = _a.sent();\n                        return [4 /*yield*/, picker.cancel()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PickerLoader.prototype.loadModule = function (client, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var url, Picker;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = client.session.urls.pickerUrl;\n                        return [4 /*yield*/, loadModule(url, knownModuleIds.picker)];\n                    case 1:\n                        Picker = _a.sent();\n                        return [2 /*return*/, new Picker(client, options)];\n                }\n            });\n        });\n    };\n    return PickerLoader;\n}());\n/**\n * Loads and creates picker instance\n *\n * @private\n * @param client\n * @param options\n */\nexport var picker = function (client, options) {\n    return new PickerLoader(client, options);\n};\n","/*\n * Copyright (c) 2018 by Filestack\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport * as EventEmitter from 'eventemitter3';\nimport { config } from '../config';\nimport { metadata, remove, retrieve } from './api/file';\nimport { transform } from './api/transform';\nimport { storeURL } from './api/store';\nimport { resolveHost } from './utils';\nimport { Upload } from './api/upload';\nimport { preview } from './api/preview';\nimport { CloudClient } from './api/cloud';\nimport { picker, } from './picker';\n/**\n * The Filestack client, the entry point for all public methods. Encapsulates session information.\n *\n * ### Example\n * ```js\n * // ES module\n * import * as filestack from 'filestack-js';\n * const client = filestack.init('apikey');\n * ```\n *\n * ```js\n * // UMD module in browser\n * <script src=\"https://static.filestackapi.com/filestack-js/1.x.x/filestack.min.js\"></script>\n * const client = filestack.init('apikey');\n * ```\n */\nvar Client = /** @class */ (function (_super) {\n    tslib_1.__extends(Client, _super);\n    function Client(apikey, options) {\n        var _this = _super.call(this) || this;\n        if (!apikey || typeof apikey !== 'string' || apikey.length === 0) {\n            throw new Error('An apikey is required to initialize the Filestack client');\n        }\n        var urls = config.urls;\n        _this.session = { apikey: apikey, urls: urls };\n        if (options) {\n            var cname = options.cname, security = options.security;\n            _this.setSecurity(security);\n            _this.setCname(cname);\n        }\n        _this.cloud = new CloudClient(_this.session, options);\n        return _this;\n    }\n    /**\n     * Set security object\n     *\n     * @param {Security} security\n     * @memberof Client\n     */\n    Client.prototype.setSecurity = function (security) {\n        if (security && !(security.policy && security.signature)) {\n            throw new Error('Both policy and signature are required for client security');\n        }\n        if (security && security.policy && security.signature) {\n            this.session.policy = security.policy;\n            this.session.signature = security.signature;\n        }\n    };\n    /**\n     * Set custom cname\n     *\n     * @param {string} cname\n     * @returns\n     * @memberof Client\n     */\n    Client.prototype.setCname = function (cname) {\n        if (!cname || cname.length === 0) {\n            return;\n        }\n        this.session.cname = cname;\n        this.session.urls = resolveHost(this.session.urls, cname);\n    };\n    /**\n     * Clear all current cloud sessions in the picker.\n     * Optionally pass a cloud source name to only log out of that cloud source.\n     * This essentially clears the OAuth authorization codes from the Filestack session.\n     * @param name Optional cloud source name.\n     */\n    Client.prototype.logout = function (name) {\n        return this.cloud.logout(name);\n    };\n    /**\n     * Retrieve detailed data of stored files.\n     *\n     * ### Example\n     *\n     * ```js\n     * client\n     *   .metadata('DCL5K46FS3OIxb5iuKby')\n     *   .then((res) => {\n     *     console.log(res);\n     *   })\n     *   .catch((err) => {\n     *     console.log(err);\n     *   }));\n     * ```\n     * @see [File API - Metadata](https://www.filestack.com/docs/api/file#metadata).\n     * @param handle Valid Filestack handle.\n     * @param options Metadata fields to enable on response.\n     * @param security Optional security override.\n     */\n    Client.prototype.metadata = function (handle, options, security) {\n        /* istanbul ignore next */\n        return metadata(this.session, handle, options, security);\n    };\n    /**\n     * Construct a new picker instance.\n     */\n    Client.prototype.picker = function (options) {\n        /* istanbul ignore next */\n        return picker(this, options);\n    };\n    /**\n     * Used for viewing files via Filestack handles or storage aliases, __requires Document Viewer addon to your Filestack application__.\n     * Opens document viewer in new window if id option is not provided.\n     *\n     * ### Example\n     *\n     * ```js\n     * // <div id=\"preview\"></div>\n     *\n     * client.preview('DCL5K46FS3OIxb5iuKby', { id: 'preview' });\n     * ```\n     * @param handle Valid Filestack handle.\n     * @param options Preview options\n     */\n    Client.prototype.preview = function (handle, options) {\n        /* istanbul ignore next */\n        return preview(this.session, handle, options);\n    };\n    /**\n     * Remove a file from storage and the Filestack system.\n     *\n     * __Requires a valid security policy and signature__. The policy and signature will be pulled from the client session, or it can be overridden with the security parameter.\n     *\n     * ### Example\n     *\n     * ```js\n     * client\n     *   .remove('DCL5K46FS3OIxb5iuKby')\n     *   .then((res) => {\n     *     console.log(res);\n     *   })\n     *   .catch((err) => {\n     *     console.log(err);\n     *   }));\n     * ```\n     * @see [File API - Delete](https://www.filestack.com/docs/api/file#delete)\n     * @param handle Valid Filestack handle.\n     * @param security Optional security override.\n     */\n    Client.prototype.remove = function (handle, security) {\n        /* istanbul ignore next */\n        return remove(this.session, handle, false, security);\n    };\n    /**\n     * Remove a file **only** from the Filestack system. The file remains in storage.\n     *\n     * __Requires a valid security policy and signature__. The policy and signature will be pulled from the client session, or it can be overridden with the security parameter.\n     *\n     * ### Example\n     *\n     * ```js\n     * client\n     *   .removeMetadata('DCL5K46FS3OIxb5iuKby')\n     *   .then((res) => {\n     *     console.log(res);\n     *   })\n     *   .catch((err) => {\n     *     console.log(err);\n     *   }));\n     * ```\n     * @see [File API - Delete](https://www.filestack.com/docs/api/file#delete)\n     * @param handle Valid Filestack handle.\n     * @param security Optional security override.\n     */\n    Client.prototype.removeMetadata = function (handle, security) {\n        /* istanbul ignore next */\n        return remove(this.session, handle, true, security);\n    };\n    /**\n     * Store a file from its URL.\n     *\n     * ### Example\n     *\n     * ```js\n     * client\n     *   .storeURL('https://d1wtqaffaaj63z.cloudfront.net/images/NY_199_E_of_Hammertown_2014.jpg')\n     *   .then(res => console.log(res));\n     * ```\n     * @see [File API - Store](https://www.filestack.com/docs/api/file#store)\n     * @param url       Valid URL to a file.\n     * @param options   Configure file storage.\n     * @param token     Optional control token to call .cancel()\n     * @param security  Optional security override.\n     */\n    Client.prototype.storeURL = function (url, options, token, security) {\n        /* istanbul ignore next */\n        return storeURL(this.session, url, options, token, security);\n    };\n    /**\n     * Access files via their Filestack handles.\n     *\n     * If head option is provided - request headers are returned in promise\n     * If metadata option is provided - metadata object is returned in promise\n     * Otherwise file blob is returned\n     * Metadata and head options cannot be mixed\n     *\n     * ### Example\n     *\n     * ```js\n     * client.retrieve('fileHandle', {\n     *  metadata: true,\n     * }).then((response) => {\n     *  console.log(response);\n     * }).catch((err) => {\n     *  console.error(err);\n     * })\n     * ```\n     *\n     * @see [File API - Download](https://www.filestack.com/docs/api/file#download)\n     * @param handle    Valid file handle\n     * @param options   RetrieveOptions\n     * @param security  Optional security override.\n     * @throws          Error\n     */\n    Client.prototype.retrieve = function (handle, options, security) {\n        /* istanbul ignore next */\n        return retrieve(this.session, handle, options, security);\n    };\n    /**\n     * Interface to the Filestack [Processing API](https://www.filestack.com/docs/api/processing).\n     * Convert a URL, handle, or storage alias to another URL which links to the transformed file.\n     * You can optionally store the returned URL with client.storeURL.\n     *\n     * Transform params can be provided in camelCase or snakeCase style ie: partial_pixelate or partialPixelate\n     *\n     * ### Example\n     *\n     * ```js\n     * const transformedUrl = client.transform(url, {\n     *   crop: {\n     *     dim: [x, y, width, height],\n     *   },\n     *   vignette: {\n     *     blurmode: 'gaussian',\n     *     amount: 50,\n     *   },\n     *   flip: true,\n     *   partial_pixelate: {\n     *     objects: [[10, 20, 200, 250], [275, 91, 500, 557]],\n     *   },\n     * };\n     *\n     * // optionally store the new URL\n     * client.storeURL(transformedUrl).then(res => console.log(res));\n     * ```\n     * @see [Filestack Processing API](https://www.filestack.com/docs/api/processing)\n     * @param url     Single or multiple valid URLs (http(s)://), file handles, or storage aliases (src://) to an image.\n     * @param options Transformations are applied in the order specified by this object.\n     * @param b64     Use new more safe format for generating transforms url (default=false) Note: If there will be any issues with url please test it with enabled b64 support\n     * @returns       A new URL that points to the transformed resource.\n     */\n    Client.prototype.transform = function (url, options, b64) {\n        if (b64 === void 0) { b64 = false; }\n        /* istanbul ignore next */\n        return transform(this.session, url, options, b64);\n    };\n    /**\n     * Initiates a multi-part upload flow. Use this for Filestack CIN and FII uploads.\n     *\n     * In Node runtimes the file argument is treated as a file path.\n     * Uploading from a Node buffer is not yet implemented.\n     *\n     * ### Example\n     *\n     * ```js\n     * const token = {};\n     * const onRetry = (obj) => {\n     *   console.log(`Retrying ${obj.location} for ${obj.filename}. Attempt ${obj.attempt} of 10.`);\n     * };\n     *\n     * client.upload(file, { onRetry }, { filename: 'foobar.jpg' }, token)\n     *   .then(res => console.log(res));\n     *\n     * client.upload({file, name}, { onRetry }, { filename: 'foobar.jpg' }, token)\n     *   .then(res => console.log(res));\n     *\n     * token.pause();  // Pause flow\n     * token.resume(); // Resume flow\n     * token.cancel(); // Cancel flow (rejects)\n     * ```\n     * @param {InputFile}    file           Must be a valid [File | Blob | Buffer | string]\n     * @param uploadOptions  Uploader options.\n     * @param storeOptions   Storage options.\n     * @param token          A control token that can be used to call cancel(), pause(), and resume().\n     * @param security       Optional security policy and signature override.\n     *\n     * @returns {Promise}\n     */\n    Client.prototype.upload = function (file, options, storeOptions, token, security) {\n        var _this = this;\n        var upload = new Upload(options, storeOptions);\n        upload.setSession(this.session);\n        if (token) {\n            upload.setToken(token);\n        }\n        if (security) {\n            upload.setSecurity(security);\n        }\n        upload.on('error', function (e) { return _this.emit('uploadError', e); });\n        return upload.upload(file);\n    };\n    /**\n     * Initiates a multi-part upload flow. Use this for Filestack CIN and FII uploads.\n     *\n     * In Node runtimes the file argument is treated as a file path.\n     * Uploading from a Node buffer is not yet implemented.\n     *\n     * ### Example\n     *\n     * ```js\n     * const token = {};\n     * const onRetry = (obj) => {\n     *   console.log(`Retrying ${obj.location} for ${obj.filename}. Attempt ${obj.attempt} of 10.`);\n     * };\n     *\n     * client.multiupload([file], { onRetry }, token)\n     *   .then(res => console.log(res));\n     *\n     * client.multiupload([{file, name}], { onRetry }, token)\n     *   .then(res => console.log(res));\n     *\n     * token.pause();  // Pause flow\n     * token.resume(); // Resume flow\n     * token.cancel(); // Cancel flow (rejects)\n     * ```\n     * @param {InputFile[]}  file           Must be a valid [File | Blob | Buffer | string (base64)]\n     * @param uploadOptions  Upload options.\n     * @param storeOptions   Storage options.\n     * @param token          A control token that can be used to call cancel(), pause(), and resume().\n     * @param security       Optional security policy and signature override.\n     *\n     * @returns {Promise}\n     */\n    Client.prototype.multiupload = function (file, options, storeOptions, token, security) {\n        var _this = this;\n        var upload = new Upload(options, storeOptions);\n        upload.setSession(this.session);\n        if (token) {\n            upload.setToken(token);\n        }\n        if (security) {\n            upload.setSecurity(security);\n        }\n        upload.on('error', function (e) { return _this.emit('uploadError', e); });\n        return upload.multiupload(file);\n    };\n    return Client;\n}(EventEmitter));\nexport { Client };\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { request } from './request';\nimport { Filelink } from './../filelink';\nimport { FilestackError } from './../../filestack_error';\nimport { getValidator, StoreParamsSchema } from './../../schema';\n/**\n *\n * @private\n * @param session\n * @param url\n * @param opts\n * @param token\n * @param security\n */\nexport var storeURL = function (session, url, opts, token, security) {\n    if (!url || typeof url !== 'string') {\n        throw new Error('url is required for storeURL');\n    }\n    var validateRes = getValidator(StoreParamsSchema)(opts);\n    if (validateRes.errors.length) {\n        throw new FilestackError(\"Invalid store params\", validateRes.errors);\n    }\n    session.policy = security && security.policy || session.policy;\n    session.signature = security && security.signature || session.signature;\n    var baseURL = new Filelink(url, session.apikey);\n    baseURL.setCname(session.cname);\n    baseURL.setBase64(true);\n    if (session.policy && session.signature) {\n        baseURL.security({\n            policy: session.policy,\n            signature: session.signature,\n        });\n    }\n    baseURL.store(opts);\n    var options = {};\n    if (token) {\n        var CancelToken = request.CancelToken;\n        var source = CancelToken.source();\n        token.cancel = source.cancel;\n        options.cancelToken = source.token;\n    }\n    return request.get(baseURL.toString(), options).then(function (res) {\n        if (res.data && res.data.handle) {\n            return tslib_1.__assign({}, res.data, { mimetype: res.data.type });\n        }\n        throw new FilestackError(\"Invalid store response \" + JSON.stringify(res.data));\n    });\n};\n","/*\n * Copyright (c) 2018 by Filestack.\n * Some rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getSecurity, validateWebhookSignature } from './lib/api/security';\nimport { Client } from './lib/client';\nimport { TransformSchema } from './schema/transforms.schema';\n/**\n * Initialize client with given config\n *\n * @param apikey\n * @param options\n */\nexport var init = function (apikey, options) {\n    return new Client(apikey, options);\n};\n/**\n * filestack-js version. Interpolated at build time.\n */\nexport var version = '3.3.4';\nexport * from './lib/api/transform';\nexport * from './lib/filelink';\nexport * from './filestack_error';\nexport { TransformSchema, getSecurity, validateWebhookSignature };\n"],"sourceRoot":""}